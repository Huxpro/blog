<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Bits, Bytes, and Words]]></title>
  <link href="https://blog.jez.io/atom.xml" rel="self"/>
  <link href="https://blog.jez.io/"/>
  <updated>2017-07-18T19:29:06-04:00</updated>
  <id>https://blog.jez.io/</id>
  <author>
    <name><![CDATA[Jake Zimmerman]]></name>
    <email><![CDATA[jake@zimmerman.io]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Haskell Development with Neovim]]></title>
    <link href="https://blog.jez.io/2017/07/16/haskell-development-with-neovim/"/>
    <updated>2017-07-16T14:45:31-04:00</updated>
    <id>https://blog.jez.io/2017/07/16/haskell-development-with-neovim</id>
    <content type="html"><![CDATA[<p>Configuring an editor for a new language is a double-edged sword: it&rsquo;s intensely
satisfying when done, but takes time away from diving into the language itself!
After using Haskell for a little over a year, I&rsquo;ve settled on a high-quality set
of editor plugins. They&rsquo;re simple, powerful, and all play nicely together.</p>

<!-- more -->


<h2>Requirements</h2>

<p>I use <a href="https://www.haskellstack.org/">Haskell Stack</a> exclusively. Stack&rsquo;s goal is reproducible builds,
which means that in general, things Just Work.</p>

<p>I also use <a href="https://github.com/neovim/neovim">Neovim</a>, rather than normal Vim. Usually, my justification
is ideological rather than technical. However, for Haskell my setup <strong>requires</strong>
Neovim. Fear not! Neovim is feature-packed and also very stable. I love Neovim,
and I&rsquo;ll be writing more about why in a future post.</p>

<p>By the way, new to Vim plugins? I happen to have <a href="https://github.com/jez/vim-as-an-ide">just the post for
you</a>!</p>

<!-- TODO(jez): Update with link to Neovim post -->


<h2>Overview</h2>

<p>We&rsquo;re going to move in order of increasing complexity. That said, even the most
&ldquo;complex&rdquo; plugin here is actually quite painless to set up. By the end, we&rsquo;ll
have a complete development experience! Coming up:</p>

<ul>
<li>syntax highlighting &amp; indentation (<strong><a href="https://github.com/neovimhaskell/haskell-vim">haskell-vim</a></strong>)</li>
<li>auto-formatting &amp; style (<strong><a href="https://github.com/commercialhaskell/hindent">hindent</a>, <a href="https://github.com/jaspervdj/stylish-haskell">stylish-haskell</a></strong>)</li>
<li>quickfix and sign column support (<strong>using <a href="https://github.com/w0rp/ale">ale</a></strong>) for:

<ul>
<li>linter style suggestions (<strong>hlint</strong>)</li>
<li>compiler errors and warnings (<strong>ghc-mod</strong>)</li>
</ul>
</li>
<li>Type inspection, REPL integration, and more! (<strong><a href="https://github.com/parsonsmatt/intero-neovim">intero-neovim</a></strong>)</li>
</ul>


<p>To keep things concise, I&rsquo;ve moved all the relevant configuration to the end of
the post. For now, let&rsquo;s start at the top.</p>

<!-- TODO(jez) Demonstrate everything with an asciicast -->


<h2>Syntax Highlighting &amp; Indentation</h2>

<ul>
<li><strong>Plugin</strong>: <a href="https://github.com/neovimhaskell/haskell-vim">haskell-vim</a><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></li>
</ul>


<p>Vim&rsquo;s default Haskell filetype plugin is pretty lack luster. Everything is blue,
except for strings which are colored like comments, and keywords which are
colored like constants. Indentation is wonky in some edge cases, and isn&rsquo;t
configurable.</p>

<p>This plugin corrects all that. It&rsquo;s the filetype plugin for Haskell that
<strong>should</strong> ship with Vim.</p>

<p>Not only does it come with saner defaults, it also comes with more config
options, especially for indentation. This is important because it lets me
tweak the automatic indentation to my own personal style.</p>

<p>(Remember: all the config is at the end of the post.)</p>

<h2>Auto-formatting and Indentation</h2>

<ul>
<li><strong>Plugin</strong>: <a href="https://github.com/alx741/vim-hindent">vim-hindent</a></li>
<li><strong>Tool</strong>: <code>stack install hindent</code></li>
<li><strong>Tool</strong>: <code>stack install stylish-haskell</code></li>
</ul>


<p>For small projects, I have an idea of what style I like best. However, for
larger projects it&rsquo;s unfair to ask contributors that they learn the ins and outs
of my style. Situations like these call for automated solutions.</p>

<p><code>go fmt</code> famously solved this problem for Golang by building the formatting tool
into the compiler. For Haskell, there&rsquo;s <a href="https://github.com/commercialhaskell/hindent">hindent</a><sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>. <code>hindent</code> can be
installed through Stack, and <code>vim-hindent</code> is a Vim plugin that shims it.</p>

<p>But I said I&rsquo;m partial to my own style in personal projects. There&rsquo;s another
Haskell formatter that&rsquo;s much less invasive: <a href="https://github.com/jaspervdj/stylish-haskell">stylish-haskell</a>. It basically
only reformats <code>import</code>s, <code>case</code> branches, and record fields, aligning them
vertically. And in fact, it&rsquo;s possible to use this alongside <code>hindent</code>.</p>

<p>With these three tools, I can pick the right tool for the job:</p>

<ul>
<li><strong>Hand saw</strong>: let <code>haskell-vim</code> config control the indentation</li>
<li><strong>Table saw</strong>: run <code>stylish-haskell</code> only</li>
<li><strong>Chainsaw</strong>: run <code>hindent</code> only</li>
<li><strong>Chainsaw, then sand paper</strong>: run <code>hindent</code>, then <code>stylish-haskell</code></li>
</ul>


<p>Getting them to play together requires a bit of config, so I&rsquo;ve included mine at
the end of the post.</p>

<h2>Quickfix &amp; Sign Columns</h2>

<ul>
<li><strong>Plugin</strong>: <a href="https://github.com/w0rp/ale">ale</a></li>
<li><strong>Tool</strong>: <code>stack install hlint</code></li>
<li><strong>Tool</strong>: <code>stack build ghc-mod</code>

<ul>
<li>N.B.: This is <em>build</em> not <em>install</em> here<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>.</li>
</ul>
</li>
</ul>


<p>This step requires <em>either</em> Neovim or Vim 8; ALE stands for &ldquo;Asynchronous Lint
Engine,&rdquo; so it&rsquo;s using the new asynchronous job control features of these two
editors. It&rsquo;s like an asynchronous Syntastic<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup>.</p>

<p>ALE ships with a number of Haskell integrations by default. For example, it can
show errors if only Stack is installed. I prefer enabling two of ALE&rsquo;s Haskell
integrations: <code>hlint</code> and <code>ghc-mod</code>.</p>

<ul>
<li><code>hlint</code> is a linter for Haskell. It warns me when I try to do silly things
like <code>if x then True else False</code>.</li>
<li><code>ghc-mod</code> is a tool that can check files for compiler errors.</li>
</ul>


<p>The beauty of ALE is that it works almost entirely out of the box. The only real
setup is to tell ALE to use only these two integrations explicitly. I&rsquo;ve
included the one-liner to do this in the config at the bottom.</p>

<h2>Intero: The PiÃ¨ce de RÃ©sistance</h2>

<ul>
<li><strong>Plugin</strong>: <a href="https://github.com/parsonsmatt/intero-neovim">intero-neovim</a></li>
</ul>


<p>Intero is a complete development program for Haskell. It started as an Emacs
package, but has been ported almost entirely to Neovim. Probably the best way to
introduce it is with this asciicast:</p>

<p align="center">
  <a href="https://asciinema.org/a/128416">
    <img
      width="700px"
      alt="Intero for Neovim asciicast"
      src="https://asciinema.org/a/128416.png">
  </a>
</p>


<p>Intero is designed for stack, sets itself up automatically, has point-and-click
type information, and lets me jump to identifier definitions. On top of it all,
it uses Neovim to communicate back and forth with a terminal buffer so that I
get a GHCi buffer <strong>right inside Neovim</strong>. For Emacs users, this is nothing new
I&rsquo;m sure. But having the REPL in my editor continues to blow my mind ðŸ˜®.</p>

<p>Developing with the REPL in mind helps me write better code. Only top-level
bindings are exposed in the REPL, so I write more small, testable functions.
See here for more reasons <a href="http://chrisdone.com/posts/haskell-repl">why the REPL is awesome</a>.</p>

<p>On top of providing access to the REPL, Intero provides about a dozen
convenience commands that shell out to the REPL backend asynchronously. Being
able to reload my code in the REPL&mdash;from Vim, with a single keystroke!&mdash;is a
huge boon when developing.</p>

<p>Intero takes a little getting used to, so be sure to read the docs for some
sample workflows. Intero also sets up no mappings by default, so I&rsquo;ve included
my settings below.</p>

<h2>The Eagerly-Awaited Config</h2>

<p>And without further ado&hellip;</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="c">" ----- neovimhaskell/haskell-vim -----</span>
</span><span class='line'>
</span><span class='line'><span class="c">" Align 'then' two spaces after 'if'</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:haskell_indent_if</span> <span class="p">=</span> <span class="m">2</span>
</span><span class='line'><span class="c">" Indent 'where' block two spaces under previous body</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:haskell_indent_before_where</span> <span class="p">=</span> <span class="m">2</span>
</span><span class='line'><span class="c">" Allow a second case indent style (see haskell-vim README)</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:haskell_indent_case_alternative</span> <span class="p">=</span> <span class="m">1</span>
</span><span class='line'><span class="c">" Only next under 'let' if there's an equals sign</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:haskell_indent_let_no_in</span> <span class="p">=</span> <span class="m">0</span>
</span><span class='line'>
</span><span class='line'><span class="c">" ----- hindent &amp; stylish-haskell -----</span>
</span><span class='line'>
</span><span class='line'><span class="c">" Indenting on save is too aggressive for me</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:hindent_on_save</span> <span class="p">=</span> <span class="m">0</span>
</span><span class='line'>
</span><span class='line'><span class="c">" Helper function, called below with mappings</span>
</span><span class='line'><span class="k">function</span><span class="p">!</span> HaskellFormat<span class="p">(</span>which<span class="p">)</span> abort
</span><span class='line'>  <span class="k">if</span> <span class="nv">a:which</span> <span class="p">==</span># <span class="s1">'hindent'</span> <span class="p">||</span> <span class="nv">a:which</span> <span class="p">==</span># <span class="s1">'both'</span>
</span><span class='line'>    <span class="p">:</span>Hindent
</span><span class='line'>  <span class="k">endif</span>
</span><span class='line'>  <span class="k">if</span> <span class="nv">a:which</span> <span class="p">==</span># <span class="s1">'stylish'</span> <span class="p">||</span> <span class="nv">a:which</span> <span class="p">==</span># <span class="s1">'both'</span>
</span><span class='line'>    <span class="k">silent</span><span class="p">!</span> exe <span class="s1">'undojoin'</span>
</span><span class='line'>    <span class="k">silent</span><span class="p">!</span> exe <span class="s1">'keepjumps %!stylish-haskell'</span>
</span><span class='line'>  <span class="k">endif</span>
</span><span class='line'><span class="k">endfunction</span>
</span><span class='line'>
</span><span class='line'><span class="c">" Key bindings</span>
</span><span class='line'>augroup haskellStylish
</span><span class='line'>  <span class="k">au</span><span class="p">!</span>
</span><span class='line'>  <span class="c">" Just hindent</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">hi</span> <span class="p">:</span>Hindent<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="c">" Just stylish-haskell</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span>leader<span class="p">&gt;</span>hs <span class="p">:</span><span class="k">call</span> HaskellFormat<span class="p">(</span><span class="s1">'stylish'</span><span class="p">)&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="c">" First hindent, then stylish-haskell</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span>leader<span class="p">&gt;</span>hf <span class="p">:</span><span class="k">call</span> HaskellFormat<span class="p">(</span><span class="s1">'both'</span><span class="p">)&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>augroup END
</span><span class='line'>
</span><span class='line'><span class="c">" ----- w0rp/ale -----</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="nv">g:ale_linters</span><span class="p">.</span>haskell <span class="p">=</span> <span class="p">[</span><span class="s1">'stack-ghc-mod'</span><span class="p">,</span> <span class="s1">'hlint'</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="c">" ----- parsonsmatt/intero-neovim -----</span>
</span><span class='line'>
</span><span class='line'><span class="c">" Prefer starting Intero manually (faster startup times)</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:intero_start_immediately</span> <span class="p">=</span> <span class="m">0</span>
</span><span class='line'><span class="c">" Use ALE (works even when not using Intero)</span>
</span><span class='line'><span class="k">let</span> <span class="nv">g:intero_use_neomake</span> <span class="p">=</span> <span class="m">0</span>
</span><span class='line'>
</span><span class='line'>augroup interoMaps
</span><span class='line'>  <span class="k">au</span><span class="p">!</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>io <span class="p">:</span>InteroOpen<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>iov <span class="p">:</span>InteroOpen<span class="p">&lt;</span>CR<span class="p">&gt;&lt;</span>C<span class="p">-</span>W<span class="p">&gt;</span>H
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>ih <span class="p">:</span>InteroHide<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">is</span> <span class="p">:</span>InteroStart<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>ik <span class="p">:</span>InteroKill<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>wr <span class="p">:</span><span class="k">w</span> \<span class="p">|</span> <span class="p">:</span>InteroReload<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">il</span> <span class="p">:</span>InteroLoadCurrentModule<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">if</span> <span class="p">:</span>InteroLoadCurrentFile<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell map <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">t</span> <span class="p">&lt;</span>Plug<span class="p">&gt;</span>InteroGenericType
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell map <span class="p">&lt;</span>leader<span class="p">&gt;</span>T <span class="p">&lt;</span>Plug<span class="p">&gt;</span>InteroType
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>it <span class="p">:</span>InteroTypeInsert<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>jd <span class="p">:</span>InteroGoToDef<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span>iu <span class="p">:</span>InteroUses<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> haskell nnoremap <span class="p">&lt;</span>leader<span class="p">&gt;</span>ist <span class="p">:</span>InteroSetTargets<span class="p">&lt;</span>SPACE<span class="p">&gt;</span>
</span><span class='line'>augroup END</span></code></pre></td></tr></table></div></figure>


<h2>Wrap Up</h2>

<p>With these tools, I feel empowered (rather than hindered) when I sit down to
work with Haskell.</p>

<ul>
<li>The entire setup uses Stack, so things Just Work.

<ul>
<li>As a consequence, everything works with the implicit global Stack project!</li>
</ul>
</li>
<li>It scales up in power:

<ul>
<li>From simple syntax highlighting and manual indentation&hellip;</li>
<li>to an indentation chainsaw and a <strong>REPL embeded in the editor</strong>!</li>
</ul>
</li>
<li>I can take full advantage of all my tools working together, leading to cleaner
code and fewer frustrations.</li>
</ul>


<p>Now that I&rsquo;m finally at a point where I can stop fretting about my Haskell
setup, I&rsquo;ll have more time to explore the language and write about my
experience.</p>

<p>Haskell-the-language isn&rsquo;t quite on the same level as SML-the-language, but it&rsquo;s
far and above when comparing by tooling support. I&rsquo;m looking forward to taking
advantage of that!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>While listed under &ldquo;neovimhaskell&rdquo; on GitHub, this plugin works with normal Vim, too.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>Chris Done explains the appeal of solving style issues with tooling for Haskell well. The moral of the story is that hindent version 5 ships with only the most popular style formatter in an effort to arrive at a singular Haskell style: <a href="http://chrisdone.com/posts/hindent-5">http://chrisdone.com/posts/hindent-5</a><a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>We want to install <code>ghc-mod</code> once in every project. It can be done globally, but it might get out of sync with the current project.<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p>Some people are familiar with Neomake for this task. However, Neomake is much more minimal than ALE. Neomake basically only builds, whereas ALE is more configurable and hackable.<a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Reach for Markdown, not LaTeX]]></title>
    <link href="https://blog.jez.io/2017/02/26/reach-for-markdown-not-latex/"/>
    <updated>2017-02-26T21:26:53-05:00</updated>
    <id>https://blog.jez.io/2017/02/26/reach-for-markdown-not-latex</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve written <a href="https://blog.jez.io/2014/10/06/offline-latex-development/">in the past</a> (<a href="https://blog.jez.io/2015/01/10/offline-latex-development-part-2/">twice</a>) about how to
streamline the writing process when using LaTeX. Since then, I&rsquo;ve found that I
enjoy writing even more when I don&rsquo;t have to reach for LaTeX at all. By reaching
first for Markdown, then for LaTeX when necessary, writing is easier and more
enjoyable.</p>

<!-- more -->


<h2>Writing at the Command Line</h2>

<p>Last year, I <a href="https://jez.io/talks/writing-at-the-command-line/">gave a talk</a> about the merits of writing primarily at
the command line. My main claims were that when writing we want:</p>

<ul>
<li>an open document format (so that our writings are future proof)</li>
<li>to be using open source software (for considerations of privacy and cost)</li>
<li>to optimize for the &ldquo;common case&rdquo;</li>
<li>to be able to write for print and digital (PDFs, web pages, etc.)</li>
</ul>


<p>Markdown solves these constraints nicely:</p>

<ul>
<li>It&rsquo;s a plain text format&mdash;plain text has been around for decades and will
be for decades more.</li>
<li>Given a plain text format, we can bring our own text editor.</li>
<li>Plenty of open source programs manipulate Markdown.</li>
<li>When we need advanced features, we can mix LaTeX into our Markdown documents.</li>
</ul>


<p>For those unfamiliar with Markdown, it&rsquo;s super quick to pick up. If you only
look at one guide, see this one:</p>

<ul>
<li><a href="http://commonmark.org/help/">CommonMark</a></li>
</ul>


<p>If you want to start comparing features available in certain implementations of
Markdown:</p>

<ul>
<li><a href="https://guides.github.com/features/mastering-markdown/">GitHub Flavored Markdown</a></li>
<li><a href="https://daringfireball.net/projects/markdown/">Markdown.pl</a></li>
<li><a href="http://pandoc.org/MANUAL.html#pandocs-markdown">Pandoc Markdown</a></li>
</ul>


<p>For more on why you should want to be writing at the command line, you can
<a href="https://jez.io/talks/writing-at-the-command-line/">check out the talk slides</a>.</p>

<h2>Pandoc Starter</h2>

<p>The central tool I spoke about in <em>Writing at the Command Line</em> is <a href="https://pandoc.org/">Pandoc</a>.
Pandoc is an amazingly simple command line program that takes in Markdown files
and spits out really anything you can think of.</p>

<p>To make using Pandoc even easier than it already is, I put together a
<a href="https://github.com/jez/pandoc-starter">collection of starter templates</a>. They&rsquo;re all available <a href="https://github.com/jez/pandoc-starter">on
Github</a> if you&rsquo;d prefer to dive right in.</p>

<p>There are currently six different templates, specialized for the kind of
document you&rsquo;d like to create. Each has a <code>README</code> for installation and usage
instructions, as well as a <code>Makefile</code> for invoking <code>pandoc</code> correctly.</p>

<p>All the templates generate PDFs from Markdown by way of LaTeX. In addition to
Pandoc, you&rsquo;ll also need LaTeX installed locally.</p>

<h3><a href="https://github.com/jez/pandoc-starter/tree/master/article"><code>article</code></a></h3>

<p>This template uses the standard LaTeX <code>article</code> document class. It&rsquo;s a
no frills, no nonsense choice.</p>

<p><a href="https://github.com/jez/pandoc-starter/blob/master/article/src/sample.pdf"><img src="https://blog.jez.io/images/pandoc-starter-article.png" alt="article template" /></a></p>

<h3><a href="https://github.com/jez/pandoc-starter/tree/master/tufte-handout"><code>tufte-handout</code></a></h3>

<p>As an alternative to the <code>article</code> document class, there&rsquo;s also the
<code>tufte-handout</code> document class. It originates from the style Edward Tufte
popularized in his books and articles on visualization and design.</p>

<p>Apart from a different font (it uses Palatino instead of the default Computer
Modern), this template features the ability add side notes to your documents. I
often find myself reaching for this template when I want to disguise the fact
that I&rsquo;m secretly using LaTeX.</p>

<p><a href="https://github.com/jez/pandoc-starter/blob/master/tufte-handout/src/sample.pdf"><img src="https://blog.jez.io/images/pandoc-starter-tufte-handout.png" alt="tufte-handout template" /></a></p>

<h3><a href="https://github.com/jez/pandoc-starter/tree/master/tufte-handout"><code>homework</code></a></h3>

<p>A second alternative to the <code>article</code> document class is the <code>homework</code> document
class. It works nicely for homework assignments and problem sets. The class
itself has a number of handy features, like:</p>

<ul>
<li>the option to put your name on every page, or only on the first page</li>
<li>an option to use wide or narrow margins</li>
<li>most of the AMS Math packages you&rsquo;d include in the process of typesetting a
math assignment</li>
<li>a convenient environment for typesetting induction proofs</li>
</ul>


<p>For more features and usage information, check out <a href="https://blog.jez.io/2015/01/10/the-latex-homework-document-class/">this blog post</a> or
<a href="https://github.com/jez/latex-homework-class">the source</a> on GitHub.</p>

<p><a href="https://github.com/jez/pandoc-starter/blob/master/homework/src/sample.pdf"><img src="https://blog.jez.io/images/pandoc-starter-homework.png" alt="homework template" /></a></p>

<h3><a href="https://github.com/jez/pandoc-starter/tree/master/beamer"><code>beamer</code></a></h3>

<p>LaTeX provides the <code>beamer</code> document class for creating slides; this template
makes it even easier to use:</p>

<ul>
<li>Make a new slide with a &ldquo;<code>##</code>&rdquo; header</li>
<li>Make a section divider with a &ldquo;<code>#</code>&rdquo; header</li>
<li>Mix lists, links, code, and other Markdown features you&rsquo;re familiar with to
create the content for a slide.</li>
</ul>


<p>So basically, just write the outline for your talk, and Pandoc takes care of
making the slides&mdash;it doesn&rsquo;t get much simpler.</p>

<p><a href="https://github.com/jez/pandoc-starter/blob/master/beamer/src/sample.pdf"><img src="https://blog.jez.io/images/pandoc-starter-beamer.png" alt="beamer template" /></a></p>

<h3><a href="https://github.com/jez/pandoc-starter/tree/master/beamer-solarized"><code>beamer-solarized</code></a></h3>

<p>The default beamer styles are pretty boring. To add a bit of flair and
personality to my slide decks, I made a Solarized theme for beamer.</p>

<p>In addition to the screenshot below, the <a href="https://jez.io/talks/writing-at-the-command-line/">Writing at the Command
Line</a> slides I linked to earlier also use this theme, if you want
to see a less contrived example.</p>

<p><a href="https://github.com/jez/pandoc-starter/blob/master/beamer-solarized/src/sample.pdf"><img src="https://blog.jez.io/images/pandoc-starter-beamer-solarized.png" alt="beamer solarized template" /></a></p>

<h3><a href="https://github.com/jez/pandoc-starter/tree/master/book-writeup"><code>book-writeup</code></a></h3>

<p>Finally, sometimes a simple article or slide deck doesn&rsquo;t cut it. Usually this
means I&rsquo;d like to group the writing into chapters. This template makes writing a
chapter as easy as using a &ldquo;<code>#</code>&rdquo; Markdown header.</p>

<p><a href="https://github.com/jez/pandoc-starter/blob/master/book-writeup/src/sample.pdf"><img src="https://blog.jez.io/images/pandoc-starter-book-writeup.png" alt="book writeup template" /></a></p>

<h2>Writing Plugins for Vim</h2>

<p>If you happen to use Vim, I&rsquo;d highly recommend installing <a href="https://github.com/junegunn/goyo.vim">goyo.vim</a> for
writing. It removes all the visual frills Vim includes to make writing code
easier so you can focus on your writing without distractions.</p>

<p>I also really enjoy <a href="https://github.com/vim-pandoc/vim-pandoc">vim-pandoc</a> and <a href="https://github.com/vim-pandoc/vim-pandoc-syntax">vim-pandoc-syntax</a>. They&rsquo;re a pair of
complementary plugins for highlighting and working with Pandoc Markdown-flavored
documents. They work so well that I use them for Markdown documents even when
not using Pandoc.</p>

<h2>Reach for Markdown</h2>

<p>Writing should be a pleasant experience. With the right tools, it can be. LaTeX
is powerful but cumbersome to use. With Markdown, we can focus on our writing,
and worry about the presentation later. Pandoc can take care of the presentation
for us, so the <a href="https://github.com/jez/pandoc-starter">only thing left to do is start</a>.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Troubleshooting Haskell Stack Setup on OS X]]></title>
    <link href="https://blog.jez.io/2016/08/03/troubleshooting-haskell-stack-setup-on-os-x/"/>
    <updated>2016-08-03T00:04:08-04:00</updated>
    <id>https://blog.jez.io/2016/08/03/troubleshooting-haskell-stack-setup-on-os-x</id>
    <content type="html"><![CDATA[<p>Stephen Diehl&rsquo;s article <a href="http://www.stephendiehl.com/posts/vim_2016.html">Vim and Haskell in 2016</a> does a great
job of outlining the quickest way to get a quality Haskell development
experience. I ran into a simple issue when I followed it due to a bit of an
idiosyncrasy on OS X El Capitan. I also document a few of the extra steps I took
which aren&rsquo;t mentioned explicitly in his original article.</p>

<!-- more -->


<p>This post wouldn&rsquo;t actually be necessary if it weren&rsquo;t for one thing: <a href="https://support.apple.com/en-us/HT204899">System
Integrity Protection</a> in OS X El Capitan, also known as &ldquo;rootless&rdquo;
mode. It affects Haskell&rsquo;s build and install step in a subtle (but solved) way,
and the rest of the article will cover what to watch out for when installing on
OS X.</p>

<p>If you don&rsquo;t follow these instructions and you&rsquo;re on OS X El Capitan, you&rsquo;ll
likely run into an issue that looks like <code>/usr/bin/ar: permission denied</code>. The
Stack installation instructions call this out specifically:</p>

<blockquote><p>If you are on OS X 10.11 (&ldquo;El Capitan&rdquo;) or later, GHC 7.8.4 is incompatible
with System Integrity Protection (a.k.a. &ldquo;rootless&rdquo;). GHC 7.10.2 includes a
fix, so this only affects users of GHC 7.8.4.</p></blockquote>

<p>At the risk of spoiling the surprise, we&rsquo;re going to set up Stack while taking
care to make sure that we get GHC >= 7.10. So let&rsquo;s do just that!</p>

<h2>Environment Prep (optional)</h2>

<p>Note that this step is optional and has nothing to do with OS X; I just wanted
to point it out quickly.</p>

<p>Under <a href="http://www.stephendiehl.com/posts/vim_2016.html#dev-environment">Dev Environment</a> on <a href="http://www.stephendiehl.com/posts/vim_2016.html">Vim and Haskell in
2016</a>, Stephen Diehl writes:</p>

<blockquote><p>Times have changed quite a bit, and the new preferred way of installing GHC in
2016 is to forgo using the system package manager for installing ghc and use
Stack to manage the path to the compiler executable and sandboxes.</p></blockquote>

<p>Stack stores it&rsquo;s metadata in the <code>~/.stack</code> folder by default. If you&rsquo;re not a
huge fan of things cluttering up your home folder, set the <code>STACK_ROOT</code> variable
in you bashrc or zshrc:</p>

<figure class='code'><figcaption><span>Set STACK_ROOT to avoid clutter</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">XDG_DATA_HOME</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.local/share"</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Have Haskell Stack use XDG Base Directory spec</span>
</span><span class='line'><span class="nb">export </span><span class="nv">STACK_ROOT</span><span class="o">=</span><span class="s2">"</span><span class="nv">$XDG_DATA_HOME</span><span class="s2">/stack"</span></span></code></pre></td></tr></table></div></figure>


<p>Of course, the choice of location is up to you. In particular I&rsquo;ve chosen to
adhere to the <a href="https://wiki.archlinux.org/index.php/XDG_Base_Directory_support">XDG Base Directory specification</a> here, which you may want
to take a peek at if you&rsquo;re unfamiliar. That&rsquo;s why you see references to
<code>XDG_DATA_HOME</code>.</p>

<p>Make sure you restart your terminal to pick up the new variables before
continuing.</p>

<h2>Install Stack from Homebrew</h2>

<p>If you&rsquo;re like me, you&rsquo;ll want to take a second to purge anything
Haskell-related from previous botched setup attempts:</p>

<figure class='code'><figcaption><span>Wipe the slate clean</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># If you had GHC installed</span>
</span><span class='line'><span class="gp">$ </span>brew uninstall ghc
</span><span class='line'>
</span><span class='line'><span class="c"># If you tried and failed at installing Stack already</span>
</span><span class='line'><span class="gp">$ </span>brew uninstall haskell-stack
</span><span class='line'><span class="gp">$ </span>rm -r ~/.stack
</span><span class='line'><span class="c"># If you happened to also set STACK_ROOT</span>
</span><span class='line'><span class="gp">$ </span>rm -r <span class="nv">$STACK_ROOT</span></span></code></pre></td></tr></table></div></figure>


<p>With that out of the way, we can actually get our hands on Stack. For OS X,
we&rsquo;ll install through Homebrew:</p>

<figure class='code'><figcaption><span>Install Stack</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='console'><span class='line'><span class="w">$ </span><span class="nc">brew</span><span class="kv"> install haskell-stack</span></span></code></pre></td></tr></table></div></figure>


<h2>Configure Stack, avoiding &ldquo;rootless&rdquo; issues</h2>

<p>Here&rsquo;s the trick. We need to run <code>stack setup</code> for the first time to let Stack
configure itself. But remember: we want to make sure that Stack doesn&rsquo;t set
itself up with version 7.8.4 of GHC. We can get around this by specifying an
explicit resolver to the <code>stack</code> command (you can find more information on
&ldquo;resolvers&rdquo; elsewhere):</p>

<figure class='code'><figcaption><span>Side-step rootless issue in setup</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Change the resolver to the most up-to-date one. This is a hack to ensure that</span>
</span><span class='line'><span class="c"># get GHC version &gt; 7.8, because there's an issue with El Capitan's rootless</span>
</span><span class='line'><span class="c"># mode.</span>
</span><span class='line'>stack --resolver<span class="o">=</span>lts-6.10 setup</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;ll notice we use the <code>--resolver=...</code> flag to force Stack to use a specific
resolver. This post will be out of date as soon as it&rsquo;s written, so check
<a href="https://www.stackage.org/snapshots">Stackage</a> to find the latest LTS snapshot.</p>

<h2>Return to Vim and Haskell in 2016</h2>

<p>That&rsquo;s it for the environment setup! Now you&rsquo;ll want to turn your attention to
configuring Vim.</p>

<p>The steps to set up Vim are platform independent, so now that we&rsquo;ve set up Stack
correctly, you can head over to <a href="http://www.stephendiehl.com/posts/vim_2016.html">Vim and Haskell in 2016</a> to
finish things out.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Let's Have a Chat about Encryption]]></title>
    <link href="https://blog.jez.io/2016/04/17/lets-have-a-chat-about-encryption/"/>
    <updated>2016-04-17T17:40:17-04:00</updated>
    <id>https://blog.jez.io/2016/04/17/lets-have-a-chat-about-encryption</id>
    <content type="html"><![CDATA[<p>Discussions of encryption permeate tech and political news sites these days.
All too frequently though, ideas presented in these discussions draw upon
outdated analogies and confusion due to technological progression. I think it&rsquo;s
time to have a chat to answer some questions and move the discussion forwards.</p>

<!-- more -->


<p>A group of friends was walking home from dinner one day. After the usual
discussions of gossip, work, and daily events had worn down, one of them
broached a new topic.</p>

<p>&ldquo;Have you guys been following the news related to the FBI wanting to force Apple
to weaken the security of its devices?&rdquo; asked James.</p>

<p>&ldquo;I think that&rsquo;s Apple&rsquo;s view point,&rdquo; responded Tim.</p>

<p>&ldquo;Ah, so you have, then! What&rsquo;s your opinion on the matter then?&rdquo;</p>

<p>This time Emma interjected. &ldquo;I think the government should stay out of Apple&rsquo;s
business.&rdquo;</p>

<p>And other thought from the group: &ldquo;I think when it comes to terrorists and other
horrible criminals, Apple should have to unlock their phones if the FBI gets a
warrant, but Apple shouldn&rsquo;t have to make their devices less secure.&rdquo;</p>

<p>&ldquo;Yes and no,&rdquo; Emma answered. &ldquo;I believe there are times they should have to hand
over information, but not provide the means to do that to the government.&rdquo;</p>

<p>&ldquo;That&rsquo;s an interesting thought,&rdquo; said James. &ldquo;But I think I&rsquo;m still a little
hazy. Could you give me an example?&rdquo;</p>

<p>Emma responded, &ldquo;If the government can prove beyond a reasonable doubt that
someone has committed a crime that threatens people&rsquo;s safety&mdash;like what just
happened&mdash;then Apple should hand over transcripts and a list of contacts.
However, they shouldn&rsquo;t have to hand over a guide to cracking Apple&rsquo;s security
procedures.&rdquo;</p>

<p>James jumped back in again. &ldquo;Well, now you two are kind of asking for two
different things.</p>

<p>&ldquo;The issue now is that those transcripts and lists of contacts might be
encrypted. So are you saying that Apple should hand over the encrypted (meaning:
useless without a key) transcripts and contacts, but that they shouldn&rsquo;t be
forced to withhold using encryption for transcripts and contacts in the first
place?</p>

<p>&ldquo;The reason why I&rsquo;m asking is because Apple doesn&rsquo;t have &#8220;security procedures&rdquo;
that can be cracked. It has encryption, and the question is whether people
should be allowed to encrypt things.</p>

<p>&ldquo;The whole point of encryption is to have security regardless of who you are.
It&rsquo;s founded in math; you can <em>prove</em> that a system is secure or insecure. You
can&rsquo;t both be able to unlock a phone at any time while also having a proof that
no one can unlock the phone.&rdquo;</p>

<p>&ldquo;So what does that really mean? Couldn&rsquo;t Apple just provide the information in
an unencrypted form?&rdquo; Emma wondered.</p>

<p>&ldquo;Only if they have the key,&rdquo; said James. &ldquo;Apple&rsquo;s argument is that they think
holding the keys to someone&rsquo;s encrypted secrets is a power too great for any one
man or organization.&rdquo;</p>

<p>The conversation died down, while everyone contemplated this position. Tim, who
had been walking with his head tilted down facing the sidewalk, slowly looked
up towards a flock of birds flying off in the distance.</p>

<p>&ldquo;Your right to have your data encrypted and secure goes away when you kill
innocent people,&rdquo; Tim said, sternly.</p>

<p>The group paused once more to consider the implications of Tim&rsquo;s statement. It
James who broke the silence next.</p>

<p>&ldquo;That&rsquo;s a very rational viewpoint, but in saying that you&rsquo;re also indicting the
same innocent people you claim to defend. Encryption is blind; it it isn&rsquo;t a
privilege given to those worthy of it, nor is it reparations to be paid for a
crime. Encryption is something everyone has access to. Not &lsquo;should have access
to&rsquo; or &lsquo;gets to have access to.&rsquo; It&rsquo;s free and open software.</p>

<p>&ldquo;You can outlaw the ownership or use of that software, but it&rsquo;s the same thing
as outlawing the ownership of guns; the criminals will use guns or encryption
anyway, and the general populace will not.</p>

<p>Tim was quick to respond this time. &ldquo;Nothing in life is absolute. Read the
Constitution: it&rsquo;s life, liberty, pursuit of happiness, not subject to
unreasonable search and seizure, etc. No one has an absolute right to
encryption.</p>

<p>&ldquo;Everyone should have access to encryption, but just like gun ownership, it can
be forfeited, similar to how felons cannot own guns. If a court issues a warrant
that a company help break encrypted data, they should comply.&rdquo;</p>

<p>&ldquo;What I&rsquo;m trying to get at is that your viewpoint is contradictory,&rdquo; James
clarified. &ldquo;Encryption cannot be forfeited after the fact, after it&rsquo;s been
determined that someone shouldn&rsquo;t have access. If something is truly encrypted,
then there is no force other than the key that one person owns that can unlock
that data. I&rsquo;m not claiming this as an opinion&ndash;that&rsquo;s the technical definition
of an encrypted system.</p>

<p>&ldquo;So if we want companies to be able to comply with &lsquo;breaking encrypted data,&rsquo;
the data itself has to already be broken from the very beginning. It has to be
insecure for everyone for it to be insecure for some one person. Without this,
there&rsquo;s no other way to retroactively &lsquo;break encryption&rsquo; for a single person.</p>

<p>&ldquo;Now in my opinion, a system that works by being able to be retroactively broken
into is incredibly susceptible to misuse. This misuse could be either by
governments that become tyrannical or by criminals who want to break into a
system for their own gain. I personally feel that we as law-abiding citizens
shouldn&rsquo;t have to give up rights, dropping us down to the same levels as
criminals, before we&rsquo;ve even committed a crime.&rdquo;</p>

<p>&ldquo;And what I&rsquo;m saying,&rdquo; began Tim, &ldquo;is this. Everyone is entitled to encrypt
their data. With the proper warrants the government should be able to access
someone&rsquo;s personal data. If that data is encrypted, the government should be
able to task really smart people to figure out the key for that one item. This
should not affect someone else&rsquo;s encryption.</p>

<p>&ldquo;Now to the point of unbreakable electronic locks,&rdquo; continued Tim. &ldquo;If these are
truly unbreakable, why aren&rsquo;t they used everywhere and why are hackers able to
break into things?&rdquo;</p>

<p>James&#8217; eyes shone for a moment before he started his response. &ldquo;That&rsquo;s actually
a really good question. Let me back up a bit to explain.</p>

<p>&ldquo;A &lsquo;hacker&rsquo; in the traditional sense is actually not too much more than a con
man. The majority of major breaks are what are called &lsquo;social engineering
attacks.&rsquo; Instead of exploiting vulnerabilities in hardware or software, they
exploit vulnerabilities in people. From Wikipedia,</p>

<blockquote><p>Social engineering, in the context of information security, refers to
psychological manipulation of people into performing actions or divulging
confidential information.</p></blockquote>

<p>&ldquo;So most hackers get passwords by tricking other people into divulging them.
Obviously if you have the password, this whole discussion of encryption is moot.
And because it&rsquo;s so easy to get ahold of a password, there is a big push lately
to use what&rsquo;s called &lsquo;two factor authentication.&rsquo; Instead of requiring just a
password to unlock things, you need a password plus some sort of one-time-use
code that is generated securely, usually through an app on your phone.</p>

<p>&ldquo;The other major types of vulnerabilities access data through poor software
coding practices. There are two common attacks: cross-site scripting attacks
and SQL injection attacks. These attacks target the point of user-input. If not
properly &lsquo;sanitized&rsquo; to remove undesirable inputs, there are some circumstances
where you can for example, enter computer code in a username field, and instead
of just having that input be viewable on the screen, it accidentally gets
treated as code and run on the hosted service. This is known as &lsquo;remote
code execution&rsquo;: getting someone else to run code that you wrote. If you can
achieve remote code execution, you can intercept what the software does after it
has unencrypted the data.</p>

<p>&ldquo;For relatively small applications, the attack vector is small; there are only
so many surfaces in which to enter input, so it&rsquo;s relatively feasible to check
them all diligently. As software systems grow, complexities usually end up
growing quadratically or even exponentially with the number of features added.
It becomes really hard to exhaustively check all attack vectors, and usually
large companies have whole departments devoted to this checking.</p>

<p>&ldquo;So now that we know how the majority of &lsquo;hacking&rsquo; works, let&rsquo;s talk about
encryption. From Wikipedia:</p>

<blockquote><p>Encryption is the process of encoding messages or information in such a way
that only authorized parties can read it. Encryption does not of itself
prevent interception, but denies the message content to the interceptor.</p></blockquote>

<p>&ldquo;At this point, we can clarify the distinction between the two: &lsquo;hacking&rsquo; is
gaining unauthorized access to a software system, while &lsquo;breaking encryption&rsquo; is
reading a message that you weren&rsquo;t intended to. Hacking deals with privilege
escalation, and encryption deals with privacy.</p>

<p>&ldquo;There are two types of encryption, but they both share a common goal: taking a
hunk of data and scrambling it in a way that makes it easy to unscramble (given
the password) yet near-impossible otherwise. The two types are called
&lsquo;encryption at rest&rsquo; and &lsquo;encryption in transit.&rsquo; Encryption at rest deals with
storing files securely on a hard drive, such that the privacy of those files are
guaranteed even if the drive is stolen. Encryption in transit deals with
communication: making sure that people can&rsquo;t eavesdrop to discover your payment
information, changed passwords, and other communications.</p>

<p>&ldquo;To put this in context, let&rsquo;s consider a simple messaging application.
Using encryption in transit ensures that the messages sent from one person&rsquo;s
phone to the other can&rsquo;t be eavesdropped, while encryption at rest ensures that
the received messages stored on one person&rsquo;s phone cannot be read unless the
phone is unlocked with a password.&rdquo;</p>

<p>Emma broke the monologue, asking, &ldquo;So you&rsquo;ve mentioned a lot about passwords and
encryption, but here&rsquo;s a simple question: does Apple have the ability to find
out my password? Or if my password is highly secure, does that mean it&rsquo;ll never
be cracked in my lifetime?&rdquo;</p>

<p>&ldquo;This brings up an important issue: trust,&rdquo; James responded. &ldquo;Apple claims
that it uses both of those forms of encryption, but there&rsquo;s no way for you and
me to verify that, other than take their word.</p>

<p>&ldquo;To answer your question about passwords, the conventional wisdom would say no.
Industry standard practice is to store only a &lsquo;hash&rsquo; of your password, not the
password itself. Every time you log in, the password you type is mangled using
the same method that was used to mangle it when you first enter it, and these
mangled versions are compared. This mangling process is &lsquo;one-way&rsquo;: you can&rsquo;t
take the mangled form and go back to the unmangled form, namely your password.</p>

<p>&ldquo;But do you trust Apple to follow this method? Like we said: there&rsquo;s no way to
know other than their reputation. The only way to truly trust software is to
verify the source code of it, finding out for yourself what it does.
Unfortunately, Apple&rsquo;s code is largely proprietary, so we can&rsquo;t. However, there
are many camps that advocate only using &lsquo;open source software&rsquo;: software whose
source can be freely read and inspected. As you might imagine, this type of
software is especially popular with software developers, as it&rsquo;s fun to
inspect the source code of the software you use, with the added benefit that you
can place more trust in it.</p>

<p>&ldquo;So, does Apple have the ability to find out your password? The answer is most
likely no. They can reset your password if you ask for it to be reset, but this
usually involves verifying your identity through your email provider.</p>

<p>&ldquo;And regarding your second question, about whether your password can be cracked,
you&rsquo;re exactly right. A secure password can&rsquo;t be cracked in any reasonable
amount of time.</p>

<p>&ldquo;There are a number of ways to attack password-based systems, the most common
(other than social engineering attacks) being a &lsquo;dictionary attack.&rsquo; This
involves going through entire dictionaries, trying words, phrases, words with
numbers in various places, and words with weird capitalization. So if you have a
short, simple password, you&rsquo;re likely vulnerable to a dictionary attack. Even if
you have a short, complicated password, dictionary attacks tend to be fairly
successful. That&rsquo;s why it&rsquo;s best to have long passwords, because as the
dictionary crackers run out of words, it degenerates into a case of trying all
possible strings. For example, if your password is 16 characters long, they&rsquo;d
have to try all 26<sup>16</sup> possible inputs&mdash;we&rsquo;re talking many, many guesses here.</p>

<p>&ldquo;And when we typically talk about &lsquo;encrypted&rsquo; data, we&rsquo;re talking about data
that has been locked up with a key that&rsquo;s 128 characters long: 26<sup>128</sup>
possibilities! To put that in context, our best guess for the number of atoms in
the universe is close to 10<sup>80</sup>. 26<sup>128</sup> is an absolutely huge number.</p>

<p>&ldquo;Since you sound curious, the math that protects these encryption schemes is a
problem called &lsquo;prime factorization.&rsquo; Basically, if you take two really big
prime numbers <em>p</em> and <em>q</em> and multiply them, the number you get is <em>pq</em>, and
only has two factors: <em>p</em> and <em>q</em>. If you know <em>pq</em> and want to get <em>q</em>, you
&lsquo;divide&rsquo; by the key <em>p</em>. Division on modern computers is super fast, so
decrypting some data with the correct password is too. However, if you chose a
large, random key <em>p</em> in the first place, it will take a really long time to
guess what the key actually was before you can do the division.</p>

<p>&ldquo;That&rsquo;s a lot of information. With respect to the situation with Apple, all
iPhone hard drives are encrypted at rest, meaning their data cannot be decoded
without the lock password. The FBI wanted a way to circumvent this, by being
able to try brute-forcing lock passwords without the phone self-destructing.
In order to do this, Apple would have had to write code that allowed that to
happen. Apple&rsquo;s argument was that this act of writing code amounted to compelled
speech, which is protected by the Constitution, and which has legal precedent
when applied to code.</p>

<p>&ldquo;After the case between FBI and Apple, it prompted many discussions about
whether encryption itself should be legal. In particular, there is a draft of a
bill in the Senate Intelligence Committee that is particularly foreboding for
the legal use of encryption. That&rsquo;s why I broached the subject in the first
place, as I saw this in the news the other day. It&rsquo;s pretty concerning that
people want to see encryption weakened so that law-abiding citizens cannot have
privacy for the sake of denying criminals their privacy.&rdquo;</p>

<p>The group had finally arrived back home at their building. They passed inside
and headed back upstairs. &ldquo;No kidding that was a lot of information,&rdquo; said Emma.
&ldquo;And I can definitely see where you&rsquo;re coming from; it scares me a bit too when
you put it that way. I&rsquo;m glad you brought it up though. I feel like I have a
grasp on things now that I didn&rsquo;t before. Thanks.&rdquo;</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>

<!-- vim:ft=pandoc.liquid
-->

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SML Dev Setup]]></title>
    <link href="https://blog.jez.io/2016/03/09/sml-dev-setup/"/>
    <updated>2016-03-09T21:06:15-05:00</updated>
    <id>https://blog.jez.io/2016/03/09/sml-dev-setup</id>
    <content type="html"><![CDATA[<p>When it comes right down to it, SML is a pretty great language. It&rsquo;s clear that
extensive thought has gone into its design and implementation. I quite enjoy
programming in SML, due in no small part to my collection of workflow hacks that
make editing and developing with SML responsive and interactive.</p>

<!-- more -->


<p>We&rsquo;re going to be walking through a couple easy steps you can take to make
developing SML feel more fluid, both in and out of your editor. I have a slight
preference for Vim on OS X, but many of these steps are platform agnostic.</p>

<h2>Installing SML Locally</h2>

<p>While developing SML in a remote environment like the shared Andrew Unix
machines makes it easy to dive right in, working with SML for prolonged periods
of time is best done locally.</p>

<p>On OS X and Ubuntu, the two most popular SML implementations are already
packaged. Take the time to install a version of SML right now. At CMU, we use
<a href="http://smlnj.org/">SML/NJ</a>, which is convenient because it has a REPL that lets you play
around with SML interactively. If you&rsquo;d like to play around with compiling and
distributing programs written in SML, you might want to install <a href="http://www.mlton.org/">MLton</a>.</p>

<figure class='code'><figcaption><span>Install SML from your package manager</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># SML/NJ on OS X</span>
</span><span class='line'>brew install smlnj
</span><span class='line'><span class="c"># -- or --</span>
</span><span class='line'><span class="c"># MLton on OS X</span>
</span><span class='line'>brew install mlton
</span><span class='line'>
</span><span class='line'><span class="c"># SML/NJ on Ubuntu</span>
</span><span class='line'>sudo apt-get install smlnj
</span><span class='line'><span class="c"># -- or --</span>
</span><span class='line'><span class="c"># MLton on Ubuntu</span>
</span><span class='line'>sudo apt-get install mlton</span></code></pre></td></tr></table></div></figure>


<p>Feel free to install both if you&rsquo;d like; they&rsquo;ll play nicely with each other and
each offers advantages over the other.</p>

<p>Note for OS X users: if you&rsquo;ve never used <a href="http://brew.sh">Homebrew</a> before, you&rsquo;ll need
to <a href="http://brew.sh">install it first</a>.</p>

<h2>Getting Comfortable with SML/NJ</h2>

<p>The rest of these steps should apply regardless of whether you&rsquo;re working on SML
locally or remotely.</p>

<p>One thing that I&rsquo;ve seen far too many times from course documentation is that
they tell students to run their code like this:</p>

<ol>
<li>Run <code>sml</code></li>
<li>Type <code>use "foo.sml";</code> or <code>CM.make "sources.cm";</code> at the REPL</li>
</ol>


<p>Don&rsquo;t get me wrong; this works, but there&rsquo;s a better way. Being responsible
CLI-citizens, we should always be looking for ways to tab-complete. Let&rsquo;s do
this by changing our workflow:</p>

<ol>
<li>Run <code>sml foo.sml</code> or <code>sml -m sources.cm</code></li>
</ol>


<p>Look at that! We&rsquo;ve,</p>

<ul>
<li>dropped a step (having to launch the REPL first), and</li>
<li>introduced tab completion into our workflow (because the shell has filename
completion)</li>
</ul>


<p>It&rsquo;s the little things, but they add up.</p>

<h2>Enhancing the REPL</h2>

<p>Speaking of the little things, when using the SML REPL, you don&rsquo;t have access to
all the usual command line niceties like command history and access to arrow
keys for editing, let alone Vi-like keybindings. To get started, you&rsquo;ll have to
change how you launch the SML/NJ REPL. In particular, we&rsquo;re going to preface our
commands with <code>rlwrap</code>:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># instead of this...</span>
</span><span class='line'><span class="gp">$ </span>sml
</span><span class='line'>
</span><span class='line'><span class="c"># use this:</span>
</span><span class='line'><span class="gp">$ </span>rlwrap sml</span></code></pre></td></tr></table></div></figure>


<p><code>rlwrap</code> stands for &ldquo;readline wrap.&rdquo; Readline is a library that simply adds to a
REPL program all the features mentioned above:</p>

<ul>
<li>Command history tracking</li>
<li>Line editing with arrow keys</li>
<li>Configurability through the <code>~/.inputrc</code> file

<ul>
<li>We can use this to get fancy features like Vi keybindings</li>
</ul>
</li>
</ul>


<p>For more information, see <a href="https://github.com/jez/dotfiles/blob/ed8e531eebe43a8aef05fc4cb768157d03408cea/inputrc#L12-L14">these lines</a> of my inputrc, a small part of
my <a href="https://github.com/jez/dotfiles">dotfiles repo</a> on GitHub.</p>

<h2>Setting Up Vim</h2>

<p>Programming is so much more enjoyable when you&rsquo;re not fighting your editor. For
me, this means striving to get the most out of Vim. In this section, I&rsquo;ll
outline all the cool tips and tricks I have for developing SML in Vim.</p>

<p>But first, if you&rsquo;ve never taken a look into how to configure Vim, I suggest you
start out by walking through this quick workshop called <a href="https://github.com/jez/vim-as-an-ide">Vim as an
IDE</a>. It&rsquo;ll teach you where to start when configuring Vim and get
you set up with a bunch of standard plugins that improve on the standard Vim
experience tenfold.</p>

<p>No actually, take a second and <a href="https://github.com/jez/vim-as-an-ide">walk through it</a>. We&rsquo;ll still be
here when you&rsquo;re done, and you&rsquo;ll appreciate Vim more when you&rsquo;re done.</p>

<h3>Syntastic</h3>

<p>From the Syntastic documentation:</p>

<blockquote><p>Syntastic is a syntax checking plugin for Vim that runs files through
external syntax checkers and displays any resulting errors to the user. This
can be done on demand, or automatically as files are saved. If syntax errors
are detected, the user is notified and is happy because they didn&rsquo;t have to
compile their code or execute their script to find them.</p></blockquote>

<p>And the best part? Syntastic ships with a checker for SML by default if you
have SML/NJ installed.</p>

<p>If you didn&rsquo;t just install <a href="https://github.com/scrooloose/syntastic">Syntastic</a> from the Vim as an IDE
walkthrough, you can <a href="https://github.com/scrooloose/syntastic">visit their homepage</a> for installation
instructions. Go ahead and do this now, then try writing this in a file called
<code>test.sml</code>:</p>

<figure class='code'><figcaption><span>test.sml</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='sml'><span class='line'><span class="kr">val</span> <span class="nv">foo</span> <span class="p">:</span> <span class="n">string</span> <span class="p">=</span> <span class="mi">42</span></span></code></pre></td></tr></table></div></figure>


<p>You should see an &lsquo;x&rsquo; next to the line and a description of the error from the
type checker. You can imagine how handy this is.</p>

<h3>Extra Syntastic Setup</h3>

<p>Syntastic has their own set of <a href="https://github.com/scrooloose/syntastic#settings">recommended settings</a> that
you can add at your discretion. At the very least, I&rsquo;d suggest adding these
lines to your vimrc:</p>

<figure class='code'><figcaption><span>.vimrc</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">...</span>
</span><span class='line'>
</span><span class='line'>augroup mySyntastic
</span><span class='line'>  <span class="c">" tell syntastic to always stick any detected errors into the location-list</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> sml <span class="k">let</span> <span class="nv">g:syntastic_always_populate_loc_list</span> <span class="p">=</span> <span class="m">1</span>
</span><span class='line'>
</span><span class='line'>  <span class="c">" automatically open and/or close the location-list</span>
</span><span class='line'>  <span class="k">au</span> <span class="nb">FileType</span> sml <span class="k">let</span> <span class="nv">g:syntastic_auto_loc_list</span> <span class="p">=</span> <span class="m">1</span>
</span><span class='line'>augroup END
</span><span class='line'>
</span><span class='line'><span class="c">" press &lt;Leader&gt;S (i.e., \S) to not automatically check for errors</span>
</span><span class='line'>nnoremap <span class="p">&lt;</span>Leader<span class="p">&gt;</span>S <span class="p">:</span>SyntasticToggleMode<span class="p">&lt;</span>CR<span class="p">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="p">...</span></span></code></pre></td></tr></table></div></figure>


<p>By default, whenever you save your file, Syntastic will place symbols in Vim&rsquo;s
<em>sign column</em> next to lines with errors. The first two settings above tell
Syntastic to also show a summarized list of errors at the bottom of the screen.
The final setting lets you press <code>&lt;Leader&gt;S</code> (which is usually just <code>\S</code>) to
disable all that. This is useful when you&rsquo;re still unfinished and you know your
SML isn&rsquo;t going to type check. Press it again to re-enable it.</p>

<p>Also, a tip for those who&rsquo;ve never used Vim&rsquo;s location list feature before: you
can close the list with <code>:lclose</code>.</p>

<h3><code>vim-better-sml</code></h3>

<p>The curious at this point might be wondering if Syntastic is smart enough to
figure out when the file you&rsquo;re using requires a CM file to compile and uses it
to show you where the errors are instead. As it turns out: no, <a href="https://github.com/scrooloose/syntastic/pull/1719">that&rsquo;s not a
feature Syntastic wants to include</a> by default. However, the
functionality isn&rsquo;t hard to implement, and there&rsquo;s already a plugin for it!</p>

<p><a href="https://github.com/jez/vim-better-sml">vim-better-sml</a> is one of my Vim plugins. Here&rsquo;s a quick
rundown of its features:</p>

<ul>
<li>As already mentioned, it will detect when your file requires a CM file to
build, and will pass along the information to Syntastic</li>
<li><code>let</code> expressions are indented one level under <code>fun</code> declarations</li>
<li><code>*.sig</code> files are properly detected as SML signature files</li>
<li>Apostrophe characters are treated as keywords characters</li>
<li>The comment string is properly registered for SML files</li>
</ul>


<p>For more information, including how to install it, check out the homepage:
<a href="https://github.com/jez/vim-better-sml">vim-better-sml</a>.</p>

<h2>General Vim Settings</h2>

<p>As a quick addendum, one common complaint people have when editing SML is that
it forces the line to wrap if it extends to 80 characters. Some people don&rsquo;t
like that it does this, and others don&rsquo;t like that it doesn&rsquo;t do it frequently
enough (namely, it only wraps the line if your cursor extends past 80
characters, not the end of the line).</p>

<p>If you don&rsquo;t want Vim to do any of this wrapping, run this:</p>

<figure class='code'><figcaption><span>Disable hard line wrapping</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="k">setlocal</span> textwidth<span class="p">=</span><span class="m">0</span></span></code></pre></td></tr></table></div></figure>


<p>If you&rsquo;d like this change to persist between Vim sessions, add it to
<code>~/.vim/after/ftplugin/sml.vim</code>. These folders and file likely don&rsquo;t exist
yet; you&rsquo;ll have to create them. The <code>after</code> folder in Vim is used to override
settings loaded from plugins. As you might have guessed, files in here are run
after plugin code is.</p>

<p>Conversely, if you&rsquo;d like a little better idea when Vim&rsquo;s going to hard wrap
your line, you can add this line to your vimrc:</p>

<figure class='code'><figcaption><span>Show a color column</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="k">set</span> colorcolumn<span class="p">+=</span><span class="m">0</span></span></code></pre></td></tr></table></div></figure>


<p>Note: this will only work if you&rsquo;re using Vim 7.4 or above. This setting tells
Vim to draw a solid column at the same width as the value of the <code>textwidth</code>
setting.</p>

<h2>TL;DR</h2>

<p>We covered a lot, so here&rsquo;s a quick recap:</p>

<ul>
<li>Install SML locally. It&rsquo;s super easy to do on OS X and Linux (use your package
manager), and means you don&rsquo;t have have a Wi-Fi connection to develop SML.</li>
<li>Invest time into learning Vim. Here&rsquo;s a reference: <a href="https://github.com/jez/vim-as-an-ide">Vim as an
IDE</a>.</li>
<li>Install <a href="https://github.com/scrooloose/syntastic">Syntastic</a>. It tells you what lines your errors are on.</li>
<li>Install <a href="https://github.com/jez/vim-better-sml">vim-better-sml</a>. It includes some features Syntastic
doesn&rsquo;t by default, and includes a couple extras.</li>
<li>Consider using <code>setlocal textwidth=0</code> or <code>set colorcolumn+=0</code> to deal with the
80-character restriction when writing SML files.</li>
</ul>


<p>And as always, you can see even more Vim settings in my <a href="https://github.com/jez/dotfiles">dotfiles
repo</a> on GitHub.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Starter Zsh Setup]]></title>
    <link href="https://blog.jez.io/2016/01/03/starter-zsh-setup/"/>
    <updated>2016-01-03T00:14:16-05:00</updated>
    <id>https://blog.jez.io/2016/01/03/starter-zsh-setup</id>
    <content type="html"><![CDATA[<p>Zsh has given me so much mileage with respect to efficiency at the command line.
Looking back I&rsquo;m a little sad I didn&rsquo;t switch to it sooner. One of the reasons
why it took so long was that I didn&rsquo;t know where to start; with this in mind,
I&rsquo;ve collected some of the zsh-specific bits of my dotfiles into one place to
help people hit the ground running.</p>

<!-- more -->


<p>To cut to the chase, you can find my <a href="https://github.com/jez/starter-zshrc">starter zshrc</a> on GitHub. It
contains usage information as well as loads of inline comments to give you a
line-by-line summary.</p>

<p>Note: it&rsquo;s an <em>starter</em> zshrc. What I mean by this is that it&rsquo;s more of
a skeleton. It&rsquo;s been crafted with the assumption that you&rsquo;re coming from bash
and you already have some bash config that you&rsquo;re weary to part with. The
content here aims to be minimally invasive, and since zsh is largely compatible
with bash, the rest of your config should fit right in.</p>

<h2>Going Further</h2>

<p>I have even more zsh-specific and general configuration nuggets in my personal
dotfiles, which are <a href="https://github.com/jez/dotfiles">also on GitHub</a>. I add to them nearly every day,
and I&rsquo;m pretty fond of them if I do say so myself. You might want to read
<a href="http://blog.jez.io/2015/03/10/noteworthy-dotfile-hacks/">Noteworthy Dotfile Hacks</a> if you&rsquo;re looking for a quick overview of some
snippets and features I&rsquo;ve collected into my dotfiles.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Leaking Free Disk Space]]></title>
    <link href="https://blog.jez.io/2015/08/03/leaking-free-disk-space/"/>
    <updated>2015-08-03T03:05:31-04:00</updated>
    <id>https://blog.jez.io/2015/08/03/leaking-free-disk-space</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve been watching a disk space leakage creep slowly upwards for months now;
finally, I figured out where it was going!</p>

<!-- more -->


<p>Whenever I set up a VPS, I follow Brian Kennedy&rsquo;s excellent <a href="http://plusbryan.com/my-first-5-minutes-on-a-server-or-essential-security-for-linux-servers">My First 5 Minutes
On A Server; Or, Essential Security for Linux Servers</a>. It covers
setting up a number of initial tools that make server administration much
easier:</p>

<ul>
<li>fail2ban, for blocking suspicious log in activity</li>
<li>setting up a non-root user</li>
<li>ufw, a simple firewall program</li>
<li>unattended-upgrades, which installs security upgrades periodically</li>
<li>logwatch, so you can read a digest of what&rsquo;s happened in your logs</li>
</ul>


<p>Ever since I set up my VPS, I&rsquo;d seen the disk space creep up in the daily
logwatch digest. I had looked a few times and figured it must be related to some
sort of misconfiguration of the Ruby app server I have running on it right now.</p>

<p>Recently, it got up to more than half of my disk space gone. For a VPS that I
used maybe twice a month, this was ridiculous. I investigated once more and
finally came up with the culprit: <code>unattended-upgrades</code> wasn&rsquo;t autoremoving
packages. I had gigabytes worth of packages that could be autoremoved.</p>

<h2>Solution</h2>

<p>There&rsquo;s a one-line config file fix. Add this to
/etc/apt/apt.conf.d/50unattended-upgrades:</p>

<figure class='code'><figcaption><span>/etc/apt/apt.conf.d/50unattended-upgrades</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>...
</span><span class='line'>// Do automatic removal of new unused dependencies after the upgrade
</span><span class='line'>// (equivalent to apt-get autoremove)
</span><span class='line'>Unattended-Upgrade::Remove-Unused-Dependencies "true";
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<p>Update: It looks like a bug in unattented-upgrades is <a href="https://bugs.launchpad.net/ubuntu/+source/unattended-upgrades/+bug/1267059">preventing it from
automatically removing header packages</a>. For the time being you will have
to either manually auto-remove these packages, or add <code>sudo apt-get autoremove
-y</code> to your crontab.</p>

<p>Update: The bug has been addressed and closed. It now correctly removes header
packages!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Docker Tips and Cheatsheet]]></title>
    <link href="https://blog.jez.io/2015/07/12/docker-tips-and-cheatsheet/"/>
    <updated>2015-07-12T22:32:27-04:00</updated>
    <id>https://blog.jez.io/2015/07/12/docker-tips-and-cheatsheet</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve been using Docker for a couple side projects lately, but only
intermittently. That means every time I try to get back into things, I spend the
first 15 minutes or so trying to remember all the little tricks I&rsquo;ve picked up
from previous Google searches and hunts through the documentation. Rather than
continue to suffer through this cycle, I&rsquo;ve written them down here to help you
and me ramp up more quickly on our next Docker projects.</p>

<!-- more -->


<h2>Making your Docker experience easier: Docker Compose</h2>

<p>Half the complexity of Docker is wrapped up in its large, verbose set of command
line arguments and flags. Luckily, Docker has a tool called <a href="https://docs.docker.com/compose/">Docker Compose</a>
that lets us translate all our command line flags into a <code>.yml</code> file. This makes
it much easier to remember how to build and run your containers, as well as to
communicate with your teammates; you no longer need to a common &ldquo;setup.sh&rdquo;
script that remembers what obscure Docker commands and flags you used to set
things up. If you&rsquo;ve never heard of it, you might want to <a href="https://docs.docker.com/compose/">check it out
now</a>. I&rsquo;ll be mixing-and-matching my favorite <code>docker</code> and <code>docker-compose</code>
commands through the rest of the post.</p>

<h2>TL;DR</h2>

<p>Here&rsquo;s a quick cheatsheet:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Build your whole Docker Compose project...</span>
</span><span class='line'>docker-compose build
</span><span class='line'><span class="c"># ...or just build one piece of it</span>
</span><span class='line'>docker-compose build <span class="o">[</span>app|db|etc...]
</span><span class='line'>
</span><span class='line'><span class="c"># Start your Docker Compose project</span>
</span><span class='line'>docker-compose up -d
</span><span class='line'><span class="c"># View the logs for this docker-compose proejct</span>
</span><span class='line'>docker-compose logs
</span><span class='line'><span class="c"># Stop running containers</span>
</span><span class='line'>docker-compose stop
</span><span class='line'>
</span><span class='line'><span class="c"># remove stopped containers</span>
</span><span class='line'>docker rm <span class="k">$(</span>docker ps -a | grep Exited | awk <span class="s1">'{print $1;}'</span><span class="k">)</span>
</span><span class='line'><span class="c"># or, to remove the stopped containers that were started by Docker Compose</span>
</span><span class='line'>docker-compose rm
</span><span class='line'><span class="c"># remove untagged images</span>
</span><span class='line'>docker rmi <span class="k">$(</span>docker images -q --filter <span class="s2">"dangling=true"</span><span class="k">)</span>
</span><span class='line'><span class="c"># Clean up dangling volumes</span>
</span><span class='line'><span class="c"># (see the post below for how to install the python script)</span>
</span><span class='line'>sudo python docker_clean_vfs.py
</span><span class='line'><span class="c"># Better yet, remove dangling volumes before they're created by using -v</span>
</span><span class='line'>docker-composer rm -v</span></code></pre></td></tr></table></div></figure>


<p>Keep in mind that Docker Compose needs to always read your <code>docker-compose.yml</code>
file, so make sure to always run <code>docker-compose</code> commands from the root of your
project.</p>

<h2>Building your app</h2>

<p>Docker Compose&rsquo;s biggest advantage is that it simplifies building your
Dockerized app to just</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose build</span></code></pre></td></tr></table></div></figure>


<p>Most apps, though, have a couple Docker Compose targets, like <code>db</code> and <code>app</code> in
this sample <code>docker-compose.yml</code> file:</p>

<figure class='code'><figcaption><span>docker-compose.yml</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="na">db</span><span class="pi">:</span>
</span><span class='line'>  <span class="na">image</span><span class="pi">:</span> <span class="s">postgres</span>
</span><span class='line'>  <span class="s">...</span>
</span><span class='line'><span class="na">app</span><span class="pi">:</span>
</span><span class='line'>  <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
</span><span class='line'>  <span class="s">...</span></span></code></pre></td></tr></table></div></figure>


<p>If all you&rsquo;ve done is made a simple change to <code>app</code>, you can get by with just</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose build app</span></code></pre></td></tr></table></div></figure>


<p>without having to rebuild all of <code>db</code> as well.</p>

<h2>Running your app</h2>

<p>To start a Docker Compose app once you&rsquo;ve built it&rsquo;s constituent images:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose up -d</span></code></pre></td></tr></table></div></figure>


<p>The <code>-d</code> flag is so that Docker Compose runs the command as a &ldquo;daemon&rdquo;, or in
the background. I can&rsquo;t think of any cases where you wouldn&rsquo;t want to use this
flag.</p>

<p>To view the logs from your app&rsquo;s running containers:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose logs</span></code></pre></td></tr></table></div></figure>


<p>This will show all the logs output as one, prefixed with their name as specified
in the <code>docker-compose.yml</code> file so you can keep things straight.</p>

<p>To bring your app down (if you started it with <code>-d</code>, otherwise just use <code>^C</code>):</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose stop</span></code></pre></td></tr></table></div></figure>


<h2>Getting rid of what Docker left behind</h2>

<p>You&rsquo;ll find after using Docker for a while that your disk usage seems to be
creeping upwards. This annoyed me at first, so I investigated. There are three
places Docker leaves junk behind.</p>

<h3>Stopped Docker containers</h3>

<p>Once you&rsquo;ve stopped your Docker containers, they remain on disk. If you&rsquo;re using
Docker Compose, you can just run the following to get rid of any containers
started by Docker Compose that have now stopped:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose rm</span></code></pre></td></tr></table></div></figure>


<p>If you&rsquo;re not using Docker Compose, you&rsquo;ll have to find them and manually prune
them:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># find all exited containers (docker ps ...),</span>
</span><span class='line'><span class="c"># and remove these containers (docker rm)</span>
</span><span class='line'>docker rm <span class="k">$(</span>docker ps -a | grep Exited | awk <span class="s1">'{print $1;}'</span><span class="k">)</span></span></code></pre></td></tr></table></div></figure>


<h3>Un-tagged Docker images</h3>

<p>When you&rsquo;re using Docker for developing an app, every time you change and
rebuild your Docker images, you&rsquo;ll leave behind an old, un-tagged image. This is
actually a &ldquo;feature&rdquo; of Docker: all images that you build are cached so that
subsequently builds are instantaneous. However, when we&rsquo;re developing and
generating new images frequently, previous image builds only take up space.</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'># find all un-tagged images (docker images ...),
</span><span class='line'># and remove these images (docker rmi)
</span><span class='line'>docker rmi $(docker images -q --filter "dangling=true")</span></code></pre></td></tr></table></div></figure>


<p>You can always tag one of these images if you don&rsquo;t want it to get garbage
collected by the above command.</p>

<h3>Dangling volumes</h3>

<p>Every time you create and mount a volume into a docker container, Docker leaves
behind some state for managing that volume. Unfortunately (and infuriatingly),
the Docker CLI doesn&rsquo;t offer a way to clean these up natively. Luckily, there&rsquo;s
a super handy script online that uses the Docker Python API to handle it.</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'># Install Python dependencies (do this only once)
</span><span class='line'>pip install docker-py
</span><span class='line'>
</span><span class='line'># Download the script
</span><span class='line'>wget https://raw.githubusercontent.com/dummymael/dotfiles/1859a36/tools/docker_clean_vfs.py
</span><span class='line'>
</span><span class='line'># Run the script
</span><span class='line'>sudo python docker_clean_vfs.py</span></code></pre></td></tr></table></div></figure>


<p>You can circumvent this madness if you make sure to remove your volumes before
they become dangling by using the following when your Docker Compose project
uses volumes:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>docker-compose rm -v</span></code></pre></td></tr></table></div></figure>


<h2>General Docker Wisdom</h2>

<p>Apart from that (small?) set of commands, the only other way I use Docker is
just writing <code>Dockerfile</code>s and <code>docker-compose.yml</code> files. Most of what you need
to know here comes from experience or looking at example files. I do, though,
have some tidbits of extra advice related to things that tripped me up in my
first Docker experiences.</p>

<p>You have to run <code>docker-compose build web</code> if you change the underlying
Dockerfile and you want the image to be rebuilt. Otherwise, <code>docker-compose up
-d</code> will happily use the old, cached image.</p>

<p>If a command failed, whether it was a one-off <code>docker run</code> command, an image
build, etc., it probably left its intermediate cruft around. See <a href="#getting-rid-of-what-docker-left-behind">Getting rid of
what Docker left behind</a> for more info.</p>

<p>Add an alias for <code>docker-compose</code>. That&rsquo;s far too long to be typing out all the
time. I use <code>alias fig="docker-compose"</code> remembering <a href="https://fig.sh">Docker Compose&rsquo;s
roots</a>.</p>

<p>Once I&rsquo;ve gotten my build environment to the point where I can just change my
core app (i.e., I&rsquo;ve set up the <code>Dockerfile</code> and <code>docker-compose.yml</code> file), I
basically just run</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>fig up -d
</span><span class='line'>
</span><span class='line'>fig logs
</span><span class='line'># observe my project, fix what's wrong
</span><span class='line'>^C &lt;-- quits the logs
</span><span class='line'>fig stop && fig rm -v && fig build web && fig up -d
</span><span class='line'>
</span><span class='line'>fig logs
</span><span class='line'># observe my project, fix what's wrong
</span><span class='line'>^C
</span><span class='line'>fig stop && fig rm -v && fig build web && fig up -d
</span><span class='line'>
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<p>It helps to understand the difference between &ldquo;images&rdquo; and &ldquo;containers&rdquo;. There
are plenty of ways to remember the difference between the two, but I like the
object-oriented programming analogy: &ldquo;images&rdquo; are to classes like &ldquo;containers&rdquo;
are to objects. The analogy isn&rsquo;t quite perfect, but it&rsquo;s close enough. We
create a new container (object) every time we run (instantiate) the image
(class). Images come with an understanding of what&rsquo;s common to all containers
(like the root file system, software dependencies, and app files), just like
classes know their constructor and member methods.</p>

<h2>More Tips</h2>

<p>Two blog posts were particularly helpful in compiling this list of commands; I&rsquo;d
be remiss to not acknowledge their wonderful work:</p>

<ul>
<li><a href="http://www.carlboettiger.info/2014/08/29/docker-notes.html">Docker tricks of the trade and best practices thoughts</a></li>
<li><a href="http://odino.org/spring-cleaning-of-your-docker-containers/">Spring cleaning of your Docker containers</a></li>
</ul>


<p>I&rsquo;ve entirely focused on the commands you can use to build, run, and manage your
Docker app in this post. The rest is just a matter of getting your <code>Dockerfile</code>
and <code>docker-compose.yml</code> to where you need them to be. For this, I&rsquo;d recommend</p>

<ul>
<li>the Docker documentation on <a href="https://docs.docker.com/articles/dockerfile_best-practices/">Dockerfile best practices</a>, as well as</li>
<li><a href="http://anandmanisankar.com/posts/docker-container-nginx-node-redis-example/">this walkthrough</a> for Dockerizing a sample app (in Node.js, but
the principles are generally applicable)</li>
</ul>


<p>Apart from that, try to find examples of these files that you can adapt to your
needs.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Show where a Python package is used]]></title>
    <link href="https://blog.jez.io/2015/06/12/show-where-a-python-package-is-used/"/>
    <updated>2015-06-12T02:36:05-04:00</updated>
    <id>https://blog.jez.io/2015/06/12/show-where-a-python-package-is-used</id>
    <content type="html"><![CDATA[<p>A while back I was doing some spring cleaning of my Python packages. I noticed
that there were a bunch of packages that I couldn&rsquo;t recall installing. I wanted
to know if I could safely remove them, so I wrote a simple bash script to tell
me called <code>pip-uses</code>.</p>

<!-- more -->


<h2>Source</h2>

<p>Rather than post the source here and let it get more out of date every time I
change it, you can find the source <a href="https://github.com/jez/bin/blob/master/pip-uses">on GitHub</a>. It&rsquo;s in my <a href="https://github.com/jez/bin">bin
repository</a>, where I keep my notable helper scripts; feel free to
poke around.</p>

<h2>Motivations</h2>

<p>I was primarily influenced by Homebrew&rsquo;s <code>brew uses</code> command. It does a nice job
of giving you exactly the information you want, and I think the way the command
is named makes sense.</p>

<figure class='code'><figcaption><span>Homebrew: brew uses</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>$ brew uses --installed pango
</span><span class='line'>imagemagick</span></code></pre></td></tr></table></div></figure>


<p><code>pip-uses</code> gives you basically the experience:</p>

<figure class='code'><figcaption><span>Pip: pip-uses</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>$ pip-uses stevedore
</span><span class='line'>virtualenvwrapper</span></code></pre></td></tr></table></div></figure>


<p>In this example, the Python package <code>virtualenvwrapper</code> uses <code>stevedore</code>, just
as <code>imagemagick</code> uses <code>pango</code>. Both commands can save you from accidentally
removing a crucial dependency and answer the burning question, &ldquo;How in the world
did this thing get installed?&rdquo;</p>

<h2>Wish List</h2>

<p>I&rsquo;m not doing much Python development these days, but if I had some spare time
I&rsquo;d love for the script to also have these features:</p>

<ul>
<li>Recursive enumeration of dependencies

<ul>
<li>It&rsquo;d be nice if <code>pip-uses</code> kept recursively searching until it found no more
dependencies. This way, it&rsquo;d be easy to see if you could safely uninstall a
whole slew of packages that you&rsquo;re no longer using.</li>
</ul>
</li>
<li>Operate on more than one package

<ul>
<li>I didn&rsquo;t need it at the time, so I didn&rsquo;t implement it, but it&rsquo;d be nice if
the command took a variable amount of arguments and ran the same logic on
all supplied packages.</li>
</ul>
</li>
<li>Integrate with <code>pip</code>

<ul>
<li>Programs like <code>brew</code> and <code>pip</code> allow developers to add &ldquo;external commands&rdquo;
by adding commands to the <code>PATH</code> that look like <code>brew-xyz</code> or <code>git-xyz</code>. I
couldn&rsquo;t find if there was a special way to add external commands to <code>pip</code>.</li>
</ul>
</li>
</ul>


<p>If you find this script useful and end up implementing one of these feature or
more on top of <code>pip-uses</code>, be sure to send me a Pull Request!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why zsh?]]></title>
    <link href="https://blog.jez.io/2015/03/10/why-zsh/"/>
    <updated>2015-03-10T12:58:37-04:00</updated>
    <id>https://blog.jez.io/2015/03/10/why-zsh</id>
    <content type="html"><![CDATA[<p>People often ask me why I switched to zsh. Back when I had first switched, I was
hesitant to answer because I was still finding my way around. Now that I&rsquo;ve been
using it, I&rsquo;ve managed to distill down a few things zsh does well that sets it
apart as my shell of choice.</p>

<!-- more -->


<h2>Syntax Highlighting</h2>

<p>In zsh, there&rsquo;s a <a href="https://github.com/zsh-users/zsh-syntax-highlighting">plugin that syntax highlights</a> the
current command line as you type. It&rsquo;s incredibly useful to receive instant
feedback about whether a command you&rsquo;re typing is valid. Turns running commands
at the command line into nearly the same experience as typing code into your
favorite text editor.</p>

<p><a class="image-link" href="https://blog.jez.io/images/zsh-syntax-highlighting.png"><img src="https://blog.jez.io/images/zsh-syntax-highlighting.png"></a></p>

<p>The screenshot above features some of the syntax elements it highlights by
default:</p>

<ul>
<li>commands that exist (also aliases, functions, etc.) are changed to green</li>
<li>those that don&rsquo;t are changed to red</li>
<li>text corresponding to files and folders that exist are underlined</li>
<li>text that looks like a file was misspelled is changed to yellow</li>
<li>text that doesn&rsquo;t correspond to the name of a file nor that looks like a
misspelling for an existing file is left unchanged</li>
</ul>


<p>It also highlights strings, globs, and environment variables (if they&rsquo;re typed
within strings).</p>

<p>There&rsquo;s probably no technical limitation for why this couldn&rsquo;t be done in bash, but
as of yet no one has done it.</p>

<h2>Better Tab Completion</h2>

<p>In zsh when you tab complete, the matches are listed below the current line,
whereas in bash they&rsquo;re listed above it. For an example, check out the
screenshot. I perform the same keystrokes in bash and zsh:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span><span class="nb">cd </span>D&lt;TAB&gt;</span></code></pre></td></tr></table></div></figure>


<p><a class="image-link" href="https://blog.jez.io/images/zsh-tab-completion.png"><img src="https://blog.jez.io/images/zsh-tab-completion.png"></a></p>

<p>In bash, pressing TAB prints out the completions followed by a new line. In zsh,
they&rsquo;re simply listed conveniently below the current line. If I continued to
complete many things in that line or ran the command, zsh would overwrite the
old completions, but bash would keep on printing additional lines, taking up
precious screen space.</p>

<h2>Better Completion Support</h2>

<p>When I used bash, I managed to have pretty wide support for tab completion in
programs. I&rsquo;m talking much more than just completing filenames. As such, I was
pretty skeptical that there&rsquo;d be much more that zsh could offer.</p>

<p>While zsh&rsquo;s edge wasn&rsquo;t immediately apparent in this aspect, I&rsquo;d like to declare
it a winner now. I had to fight pretty hard to get my bash completions where
they were. By comparison, zsh comes with so many more completions built in, and
if you decide to use oh-my-zsh (a collection of zsh plugins) on top of zsh,
adding new functionality is one line away.</p>

<p>I now have things like environment variable completion, tmux completion, deep
git command completion, and much more.</p>

<h2>Great, how do I start?</h2>

<p>The first step is to change your shell to zsh: <code>chsh -s $(which zsh)</code>. Once
you&rsquo;ve done that, you&rsquo;ll need a <code>.zshrc</code> and <code>.zshenv</code>. If you&rsquo;re looking for a
reference, you can see my <a href="https://github.com/jez/dotfiles/blob/master/util/misc.zsh"><code>misc.zsh</code></a> file in my <a href="https://github.com/jez/dotfiles">dotfiles</a>
repo on GitHub, a file which eventually gets sourced in my <a href="https://github.com/jez/dotfiles/blob/master/zshrc"><code>.zshrc</code></a>. It
contains most of everything that you need to get started using zsh on OS X. Keep
in mind that it&rsquo;s somewhat opinionated (it heavily favors vim keybindings and
uses oh-my-zsh among other things). You might also want to check out my
<a href="https://blog.jez.io/2015/03/10/noteworthy-dotfile-hacks/">Noteworthy Dotfile Hacks</a> post, where I talked about what I
think are the most notable features I have in my dotfiles.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Noteworthy Dotfile Hacks]]></title>
    <link href="https://blog.jez.io/2015/03/10/noteworthy-dotfile-hacks/"/>
    <updated>2015-03-10T01:22:33-04:00</updated>
    <id>https://blog.jez.io/2015/03/10/noteworthy-dotfile-hacks</id>
    <content type="html"><![CDATA[<p>I have hundreds of files and folders in my dotfiles repo, and nearly 1000
commits&mdash;there are quite a few hidden gems buried in there that generally don&rsquo;t
get to see the light of day. Rather than wander aimlessly through them, let me
give you the guided tour.</p>

<!-- more -->


<p>I often tell people &ldquo;oh, and you can also go check out my dotfiles repository
for more cool configurations&rdquo; when I&rsquo;m giving out dotfiles advice. If someone
gave me this advice, I know I wouldn&rsquo;t follow up, even if I had the utmost awe
for the recommender. Drudging through config files isn&rsquo;t all that fun, even
though they can do fun things. Why not get rid of the drudgery?</p>

<p>This post is designed to bring the coolest parts of my dotfiles to the top. It&rsquo;s
organized by topic, so feel free to skip around.</p>

<p><strong>Note</strong>: throughout this post, I&rsquo;ll be linking to my dotfiles <em>at a specific
commit</em> on GitHub. While this solves the problem of line-level links breaking on
updates, it means that you&rsquo;ll almost certainly be looking at out-dated code.
Make sure to check out the corresponding file on the <code>master</code> branch for the
most up-to-date version.</p>

<p>Also, I <a href="https://blog.jez.io/2015/03/09/getting-started-with-rcm/">just wrote</a> about one of my biggest dotfile hacks: using rcm
to keep my dotfiles in sync across machines. Be sure to give it a read if you&rsquo;re
running into that problem.</p>

<h2><code>tmux</code></h2>

<p>I have a lot of cool stuff going on in my <code>.tmux.conf</code></p>

<ul>
<li>I <a href="https://github.com/jez/dotfiles/blob/0ca7dfb042e8d0e6790e7142487812517b5a4209/tmux.conf#L1-L4">bind the prefix key to <code>C-f</code></a>, something which I haven&rsquo;t seen
many people do.  I&rsquo;ve never had a problem with it conflicting with commonly
used shortcuts, and it&rsquo;s incredibly easy to press (compared with the common
options of <code>C-a</code> and <code>C-b</code>)</li>
<li>I integrate with two Vim plugins:

<ul>
<li><a href="https://github.com/jez/dotfiles/blob/0ca7dfb042e8d0e6790e7142487812517b5a4209/tmux.conf#L18-L27">vim-tmux-navigator</a>, which lets you jump between vim
splits and tmux splits as if they were the same thing</li>
<li><a href="https://github.com/jez/dotfiles/blob/0ca7dfb042e8d0e6790e7142487812517b5a4209/tmux.conf#L48-L49">tmuxline</a>, which makes my tmux status bar look just like Vim with
vim-airline (it even pulls down the colors from your Vim configuration!).</li>
</ul>
</li>
</ul>


<h2><code>dircolors</code></h2>

<p>I use the GNU <code>dircolors</code> command to change the colors output by the <code>ls</code>
program. After running <code>brew install coreutils</code> on OS X, I&rsquo;m able to see the
colors thanks to <a href="https://github.com/jez/dotfiles/blob/0ca7dfb042e8d0e6790e7142487812517b5a4209/dircolors">this file</a> and <a href="https://github.com/jez/dotfiles/blob/0ca7dfb042e8d0e6790e7142487812517b5a4209/host-Jacobs-MacBook-Air/util/host.sh#L19-L21">this snippet</a> in my zshrc.</p>

<p><a class="image-link" href="https://raw.githubusercontent.com/huyz/dircolors-solarized/master/img/screen-dircolors-in-iTerm2-solarized_dark.png"><img src="https://raw.githubusercontent.com/huyz/dircolors-solarized/master/img/screen-dircolors-in-iTerm2-solarized_dark.png"></a></p>

<p>(image from the <a href="https://github.com/seebi/dircolors-solarized">dircolors-solarized</a> repository on GitHub)</p>

<h2><code>gitconfig</code></h2>

<p>I talked about this <a href="https://blog.jez.io/2015/01/16/mastering-git-log-for-collaboration/">in a previous post</a>, but I have some <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/host-Jacobs-MacBook-Air/gitconfig#L20-L24">special
settings</a> in my global gitconfig for adding colored decoration to git
log commands. Here&rsquo;s a screenshot from that post:</p>

<p><a class="image-link" href="https://blog.jez.io/images/glla-tartanhacks.png"><img src="https://blog.jez.io/images/glla-tartanhacks.png"></a></p>

<h2><code>aklog cs.cmu.edu</code></h2>

<p>For my friends at CMU, I have <code>aklog cs.cmu.edu</code> in <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/host-andrew/util/host.zshenv#L1">my ~/.zshenv</a>,
which gets run even when you log in interactively (like what happens when you
<code>scp</code> something), so that I can copy files from my local machine to the SCS AFS
space, which is useful for doing things like making handins. Note that the file
linked to above is a host-specific file that only &ldquo;exists&rdquo; for me on Andrew
machines. You can read more about my setup <a href="https://blog.jez.io/2015/03/09/getting-started-with-rcm/">in my
previous post</a>.</p>

<h2>zsh-syntax-highlighting</h2>

<p>I use a <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/util/misc.zsh#L79-L80">zsh plugin</a> to syntax highlight my commands as I type them
on the command line, similar to how the fish shell does it. It does various
things, like coloring the command red or green based on whether it exists,
underlines filenames that exist, highlights filenames that might be misspelled
in yellow, highlights built-ins like <code>if</code> and <code>for</code> in orange, etc.</p>

<p>Here are some examples from my setup:</p>

<p><a class="image-link" href="https://blog.jez.io/images/zsh-syntax-highlighting-for-loop.png"><img src="https://blog.jez.io/images/zsh-syntax-highlighting-for-loop.png"></a></p>

<p><a class="image-link" href="https://blog.jez.io/images/zsh-syntax-highlighting.png"><img src="https://blog.jez.io/images/zsh-syntax-highlighting.png"></a></p>

<h2>Automatic Dotfile Updates</h2>

<p>I wrote a pretty robust script that reminds me to update my dotfiles and my
system regularly. All it does is remind me to check for system updates once
every 24 hours, but it works so well that I had updated my system <code>bash</code> version
before I even read about Shell Shock!</p>

<p>The relevant links are <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/util/auto-update.sh">here</a> for the core script that I <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/zshrc#L44-L45">source in
my zshrc</a>, and then the following host specific links:</p>

<ul>
<li><a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/host-Jacobs-MacBook-Air/util/host.sh#L69-L86">here</a> for my MacBook</li>
<li><a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/host-ghost.zimmerman.io/util/host.sh#L24-L31">here</a> for my Ubuntu VPS</li>
</ul>


<h2>Shell aliases</h2>

<p>I&rsquo;d like to think that my whole <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/util/aliases.sh"><code>aliases.sh</code></a> file is golden, but if
you&rsquo;re looking for some specific things I like about it, check out my <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/util/aliases.sh#L75-L86"><code>git log</code></a>
aliases, which I wrote about <a href="https://blog.jez.io/2015/01/16/mastering-git-log-for-collaboration/">here</a>, and my <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/util/aliases.sh#L44-L45"><code>chromemem</code></a> alias, which I wrote about <a href="https://blog.jez.io/2014/12/29/google-chrome-a-memory-hog/">here</a>.</p>

<h2>Ruby Virtualenvs</h2>

<p>I wrote about how I use <a href="https://blog.jez.io/2014/12/22/ruby-virtualenvs/">Python Virtualenvs to sandbox Ruby
gems</a>, a post in which I dropped some snippets that you can
use to configure virtualenvwrapper to work with Ruby projects. I actually went
ahead and <a href="https://github.com/jez/dotfiles/tree/eba0202443de6bcc171dbe6bc133fa9fe02357f7/host-Jacobs-MacBook-Air/virtualenvs">fed those files right into rcm</a>, so they&rsquo;ll always be available if I
ever get a new laptop.</p>

<h2><code>ssh</code></h2>

<p>My hostname on every machine I ssh to for school is <code>jezimmer</code>, but there are
countless servers I can ssh into (7 for <code>unix.andrew.cmu.edu</code>, 99+ for
<code>ghc*.ghc.andrew.cmu.edu</code>, 10 for 15-213, the list goes on). <a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/host-Jacobs-MacBook-Air/ssh/config#L7-L19">These
lines</a> enable me to ssh to any of those machines with just a
hostname, and the username is assumed to be <code>jezimmer</code>.</p>

<h2>iTerm2</h2>

<p>There&rsquo;s not much to show for this one, but in Preferences > General of iTerm2,
you can opt to load your iTerm2 preferences from a specific location. I&rsquo;ve set
this to <code>/Users/jake/.dotfiles</code>, which means that my iTerm2 settings are always
written to my <code>.dotfiles/</code> directory. If I ever make changes to iTerm2, they get
propagated as changes that Git picks up on and which I subsequently check into
Git history.</p>

<h2>Vim</h2>

<p>I&rsquo;m in love with my Vim setup. If you&rsquo;re looking for help getting started
configuring Vim, you should checkout the <a href="https://github.com/jez/vim-as-an-ide">Vim plugins workshop I put
together</a>, which gets you started with a &ldquo;fully-configured&rdquo; Vim
setup. Once you think you&rsquo;ve &ldquo;mastered&rdquo; that and you&rsquo;re ready for more, here are
a list of things I&rsquo;m proud of in my <code>.vimrc</code>:</p>

<ul>
<li><a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/vimrc#L65-L67"><code>set breakindent</code></a> A feature new in Vim 7.4, this allows you to
align wrapped text at the same indentation level as the preceding text.</li>
<li><a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/vimrc#L100-L106">these mappings</a>, which let me move around (move up and down in
particular) in long lines just as if they were short.</li>
<li><a href="https://github.com/jez/dotfiles/blob/eba0202443de6bcc171dbe6bc133fa9fe02357f7/vimrc#L90-L91">this mapping</a>, which lets me open Vim help pages in new tabs</li>
</ul>


<h2>Other</h2>

<p>I&rsquo;ve only highlighted a fraction of my configuration files, but I think I&rsquo;ve
managed to capture a good portion of them. If you thought that one of these
snippets was useful, are having trouble getting something to work, or have
something interesting to share, leave a comment below!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Getting Started with RCM]]></title>
    <link href="https://blog.jez.io/2015/03/09/getting-started-with-rcm/"/>
    <updated>2015-03-09T19:30:39-04:00</updated>
    <id>https://blog.jez.io/2015/03/09/getting-started-with-rcm</id>
    <content type="html"><![CDATA[<p>I recently rewrote most of my dotfiles to clean them up and in the process
decided to take a renewed look at using <a href="https://robots.thoughtbot.com/rcm-for-rc-files-in-dotfiles-repos">rcm</a>&rsquo;s array of features to manage
syncing my dotfiles across multiple servers and hosts.</p>

<!-- more -->


<h2>Installation and Usage</h2>

<p>Thoughbot has written some excellent documentation for rcm, including a whole
set of man pages and a <a href="https://robots.thoughtbot.com/rcm-for-rc-files-in-dotfiles-repos">nice blog post</a> that runs through its core
features. As far as <a href="https://github.com/thoughtbot/rcm#installation">installation</a> goes, there&rsquo;s a package for just
about every platform on top of the standard autotools, so you should have no
problem getting up and running.</p>

<p>Rather than just run through the same stuff, I&rsquo;m going to walk through some of
the places where my experience varied from the examples given in the
documentation.</p>

<h2>Background</h2>

<p>I&rsquo;ve already been using rcm for a while now, though my setup was a little
non-standard as far as rcm installations go; instead of using the system built
into rcm for managing host-specific configuration files, I had <a href="https://github.com/jez/dotfiles/blob/6beee7eb426a21102da174f65d1a706bedc28b57/zshrc#L135-L204">huge case
statements</a> littering my config files. After starting to get a little
traffic for <a href="https://github.com/jez/vim-as-an-ide">some of my other configuration work</a>, I decided it was time to
make my config files something worth looking at.</p>

<p>Thus, given the state of my old files, much of my effort this time around
were spent refactoring my current setup to increase modularity and get it to
integrate nicely with rcm. I think that this use case is a little
under-documented and lacking in first-class support in the suite, so I&rsquo;ll talk
about how I got around this later on. That being said, if you&rsquo;re coming from no
dotfiles management software or are interested in trying out something new,
you&rsquo;ll have a much smoother experience.</p>

<h2>Goals</h2>

<p>My two goals for the refactor that I mentioned above were to</p>

<ul>
<li>make everything modular, so that people could more easily pick and choose
pieces from my dotfiles to include in theirs, and</li>
<li>make it easy to swap around host-specific configurations.</li>
</ul>


<p>While the work required to achieve this setup was a bit hairy, maintaining it
should be straightforward from now on.</p>

<p>If you haven&rsquo;t taken a second to peruse some of the <a href="http://thoughtbot.github.io/rcm/rcm.7.html">documentation</a> yet,
it probably wouldn&rsquo;t hurt to do so now. It&rsquo;s about to get technical.</p>

<h2>Host-independent files</h2>

<p>I started this time around with the host independent files, because they
required no real refactoring. Linking these up was a simple matter of running
commands that looked like</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>$ mkrc &lt;rc-file&gt;</span></code></pre></td></tr></table></div></figure>


<p>I ran this on files like my <code>.vimrc</code>, <code>.tmux.conf</code>, <code>.ackrc</code>, and other simple
files. I also handled my <code>.vim/</code> folder in this step, but slightly differently.
The default rcm behavior is to create symlinks when given a single file, and to
recursively descend and create symlinks when given a folder. For folders like my
<code>.vim/</code> folder, which can get pretty large pretty quickly, I used the <code>-S</code>
option to force rcm to symlink the directory:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>$ mkrc -S .vim/</span></code></pre></td></tr></table></div></figure>


<p>The first time I ran <code>mkrc</code>, it automatically created a folder called
<code>~/.dotfiles</code>, which is where all my dotfiles files will live from now on. Then,
every time <code>mkrc</code> is run, it moves the file into this folder and creates a
symbolic link where it use to exist. I always thought this was a curious name
for the program, &ldquo;make rc file&rdquo;, but really what I just mentioned is all there
is to it: <code>mkrc</code> <em>moves</em> and <em>links</em> an rc file.</p>

<p><a class="image-link" href="https://blog.jez.io/images/mkrc-host-independent.png"><img src="https://blog.jez.io/images/mkrc-host-independent.png"></a></p>

<p>Above you can see the results of this first step on a couple files: my <code>.vimrc</code>
and my <code>.vim/</code> folder. You can see that where there once were a file and a
folder, there are now two symbolic links, which point to the moved files inside
of my <code>.dotfiles/</code> directory.</p>

<h2>Host-dependent files</h2>

<p>Next up are obviously the host-dependent files, though we can split this
category once more based on which need to be refactored.</p>

<h3>Just Add Water</h3>

<p>For my host-dependent
files that didn&rsquo;t need to be refactored, like my <code>.ssh/config</code> and my
<code>.gitconfig</code> (files which, by the way, I wasn&rsquo;t tracking at all before this
rewrite), I just ran the following command:</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>$ mkrc -o .gitconfig</span></code></pre></td></tr></table></div></figure>


<p>When I&rsquo;m on my Mac, this goes through the same move + link procedure described
above, but it moves the file into the <code>~/.dotfiles/host-Jacobs-MacBook-Air/</code>
subfolder.</p>

<h3>Refactor and Profit</h3>

<p>Finally, I dealt with the piece of my dotfiles that was sorely lacking a
refactor: my <code>.zshrc</code>. For this, I took a cue from <a href="https://github.com/holman/dotfiles">Zach Holman&rsquo;s
dotfiles</a> organization and broke up my zshrc into it&rsquo;s components, like
<code>aliases.sh</code>, <code>colors.sh</code>, and more. Most important of these components was
the <code>host.sh</code> file, which contained all the host-specific configurations that I
was doing. Whenever I deploy my <code>.zshrc</code> on a new host now, rcm will put a
<code>host.sh</code> file in a location where my <code>.zshrc</code> knows where to look, but the
contents of that file change depending on the host. Getting the many <code>host.sh</code>
files in place is where I think mkrc&rsquo;s power can be improved.</p>

<p>The <code>mkrc -o</code> command takes an option that lets you specify a host explicitly
(<code>-B &lt;hostname&gt;</code>) rather than calculating it with the <code>hostname</code> command, but it doesn&rsquo;t
let you specify that you&rsquo;d just like to move the file, rather than move and link
it. As such, when I was refactoring, I created a bunch of files:
<code>host-Jacobs-MacBook-Air.sh</code>, <code>host-ghost.zimmerman.io.sh</code>, etc., creating one
<code>host-&lt;something&gt;.sh</code> file for each host that I needed to deploy my dotfiles to.
Then, for each of these files, I</p>

<ul>
<li>ran <code>mkrc -o -B &lt;hostname&gt; host-&lt;hostname&gt;.sh</code></li>
<li>removed the link created by <code>mkrc</code> (I skipped this step the last time around,
when I had just linked the correct <code>host.sh</code> file for the host I was working
on)</li>
<li>renamed the file that rcm created in the <code>.dotfiles/host-&lt;hostname&gt;/</code> folder
to just <code>host.sh</code>.</li>
</ul>


<p>Since there were a bunch of different host-specific files in my case, this
process was a little tedious. It&rsquo;d have been nice if there was an option to
automate my use case, but I&rsquo;m not sure if it&rsquo;s common enough to warrant
the additional complexity, especially considering it&rsquo;s a one-time cost.</p>

<p>In any case, with all this in place, I had finally met my two goals: everything
was modular, and host-specific configurations were clearly defined and easily
deployable.</p>

<h2>Up Next</h2>

<p>If you&rsquo;re reading this and wondering where to go next, you could:</p>

<ul>
<li>take a dive into the rcm documentation to get started applying it to your own
set of dotfiles</li>
<li>browse my <a href="https://github.com/jez/dotfiles">new-and-improved dotfiles</a> repository on GitHub</li>
<li>wait for an upcoming post where I point out some of the noteworthy things I&rsquo;ve
added in my dotfiles</li>
</ul>


<p>If you&rsquo;re using rcm or trying to get started with it but are having issues, feel
free to drop questions in the comments and I&rsquo;ll see if I can&rsquo;t help sort things
out.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vim as an IDE]]></title>
    <link href="https://blog.jez.io/2015/03/03/vim-as-an-ide/"/>
    <updated>2015-03-03T00:01:19-05:00</updated>
    <id>https://blog.jez.io/2015/03/03/vim-as-an-ide</id>
    <content type="html"><![CDATA[<p>I took some screenshots to accompany my <a href="https://github.com/jez/vim-as-an-ide">Vim as an IDE</a> repo on GitHub.
This is by no means a complete walkthrough! It&rsquo;s just a reference for those who
are curious if they installed everything correctly. This is what my system looks
like for me after each step.</p>

<!-- more -->


<h2>1. <a href="https://github.com/jez/vim-as-an-ide/commit/0673f0c">Create vimrc file</a></h2>

<p>This is what Vim should look like immediately after opening it:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-01.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-01.png" alt="Vim as an IDE" /></a></p>

<p>And right after adding the two lines:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-02.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-02.png" alt="Vim as an IDE" /></a></p>

<h2>2. <a href="https://github.com/jez/vim-as-an-ide/commit/dff7da3">Add some general settings</a></h2>

<p>After you add these settings, your <code>~/.vimrc</code> should look like this when opened
in Vim:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-03_1.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-03_1.png" alt="Vim as an IDE" /></a></p>

<h2>3. <a href="https://github.com/jez/vim-as-an-ide/commit/fc77b04">Enable the mouse</a></h2>

<p>To enable the mouse, you&rsquo;ll have to figure out where the appropriate setting is
in your terminal emulator. Here&rsquo;s a screenshot of where it is in iTerm2 on OS X.</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-03.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-03.png" alt="Vim as an IDE" /></a></p>

<h2>4. <a href="https://github.com/jez/vim-as-an-ide/commit/1186be2">Set up Vundle boilerplate</a></h2>

<p>If you add the changes introduced at this step before installing Vundle, you&rsquo;ll
get an error that looks like this:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-04.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-04.png" alt="Vim as an IDE" /></a></p>

<p>Otherwise, this should be the result of running <code>vim +PluginInstall</code> to install
Vundle for the first time:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-05.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-05.png" alt="Vim as an IDE" /></a></p>

<p>Remember, you can use <code>:qall</code> to quit Vim after installing plugins.</p>

<h2>5. <a href="https://github.com/jez/vim-as-an-ide/commit/457f2e2">Make Vim look good</a></h2>

<p>Your experience might diverge a little bit from these screenshots if you choose
a different colorscheme because I&rsquo;ll assume you&rsquo;re setting everything up using
Solarized Dark. If you&rsquo;re on a Mac and you&rsquo;ve imported the iTerm2 colorschemes,
you should be able to find the Solarized Dark theme here:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-06.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-06.png" alt="Vim as an IDE" /></a></p>

<p>Making that change should make Vim turn these colors:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-07.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-07.png" alt="Vim as an IDE" /></a></p>

<p>Next up is changing your font to a Powerline patched font. If you downloaded and
installed Menlo for Powerline correctly, you should be able to set it using this
panel in the preferences:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-08.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-08.png" alt="Vim as an IDE" /></a></p>

<p>Finally, running <code>vim +PluginInstall</code> to install the Solarized Vim colorscheme
and vim-airline:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-09.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-09.png" alt="Vim as an IDE" /></a></p>

<p>Here&rsquo;s what the Vim solarized plugind does to our <code>~/.vimrc</code>:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-10.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-10.png" alt="Vim as an IDE" /></a></p>

<p>If you chose to install a Powerline patched font, you can let vim-airline use
cooler arrows by uncommenting the line highlighted in this screenshot above, to
make Vim look like this:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-11.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-11.png" alt="Vim as an IDE" /></a></p>

<h2>6. <a href="https://github.com/jez/vim-as-an-ide/commit/b7ff90c">Plugins NERDTree and NERDTree Tabs</a></h2>

<p>This will be the last time that I demonstrate running <code>vim +PluginInstall</code>,
because they&rsquo;ll all basically look the same from here on out:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-12.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-12.png" alt="Vim as an IDE" /></a></p>

<p>Once you&rsquo;ve installed NERDTree and NERDTree Tabs (and added the settings I
listed for them), you should be able to type <code>\t</code> to bring up something that
looks like this:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-13.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-13.png" alt="Vim as an IDE" /></a></p>

<h2>7. <a href="https://github.com/jez/vim-as-an-ide/commit/144f979">Plugin Syntastic</a></h2>

<p>Once you&rsquo;ve installed Syntastic, it should syntax highlight your errors by
displaying little marks next to the offending lines:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-14.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-14.png" alt="Vim as an IDE" /></a></p>

<p>You can see that we&rsquo;ve forgotten a semi-colon, and Syntastic is pointing that
out for us.</p>

<p>As I was making these screenshots, I realized that I forgot to include a setting
in the right place. It&rsquo;s fine if you work through the whole workshop, but if you
pick and choose things, namely if you don&rsquo;t follow the steps for <code>vim-gitgutter</code>
eventually, you&rsquo;ll end up with this weird highlighting in the sign column. To
disable this highlighting, you can either wait until the <code>vim-gitgutter</code> step
(coming right up in 4 steps), or you can run this command (the one at the bottom
of the screenshot):</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-15.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-15.png" alt="Vim as an IDE" /></a></p>

<p>To make the change permanent, you&rsquo;ll have to add that line (<code>:hi clear
SignColumn</code>) to your <code>~/.vimrc</code>.</p>

<h2>8. <a href="https://github.com/jez/vim-as-an-ide/commit/fd2c49c">Plugins vim-easytags and tagbar</a></h2>

<p>After this step, you should be able to bring up a split pane view that shows
your functions, variables, and other identifiers by pressing <code>\b</code>:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-16.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-16.png" alt="Vim as an IDE" /></a></p>

<p>If you enabled mouse reporting, you should be able to click on the things in the
pane and jump to the appropriate place in the file. I&rsquo;d strongly recommend that
you read the help for all the keybindings and actions you can use with it.</p>

<h2>9. <a href="https://github.com/jez/vim-as-an-ide/commit/80db74f">Plugin ctrlp</a></h2>

<p>When <code>CtrlP</code> is installed, you can press <code>Ctrl + P</code> to bring up a list of files.
As you type, the list will be filtered to only those that &ldquo;fuzzy match&rdquo; what
you&rsquo;ve typed in. As you can see, I typed in <code>mc</code>, which matched <code>vimrc.vim</code> and
<code>main.c</code>:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-17.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-17.png" alt="Vim as an IDE" /></a></p>

<h2>10. <a href="https://github.com/jez/vim-as-an-ide/commit/8d4223f">Plugin A.vim</a></h2>

<p>This plugin introduces a number of commands that you can read in the
documentation that enable opening &ldquo;alternate&rdquo; files, like C/C++ header files,
really quickly. I&rsquo;ve run <code>:AV</code> here as an example of one of the commands it
installs, which opens the alternate file in a vertical split pane.</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-18.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-18.png" alt="Vim as an IDE" /></a></p>

<h2>11. <a href="https://github.com/jez/vim-as-an-ide/commit/1e5757e">Plugins vim-gitgutter and vim-fugitive</a></h2>

<p><code>vim-gitgutter</code> is really handy: it shows you a <code>+</code>, <code>-</code>, or <code>~</code> next to lines
that have been added, removed, or modified. This is good for both identifying
the pieces of code that have changed while you&rsquo;re working on a file as well as
reminding yourself that you have changes that need to be commited.</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-19.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-19.png" alt="Vim as an IDE" /></a></p>

<p>Speaking of committing files, <code>vim-fugitive</code> lets you make Git commits from
right within Vim. Simply run <code>:Gcommit</code> to bring up a split pane where you can
craft your commit message:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-20.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-20.png" alt="Vim as an IDE" /></a></p>

<p><code>vim-fugitive</code> can do much more than just make commits. Be sure to read the
appropriate documentation to figure out what sorts of cool things you can do!</p>

<h2>12. <a href="https://github.com/jez/vim-as-an-ide/commit/2fe0507">Plugin delimitMate</a></h2>

<p>Finally, using <code>delimitMate</code> you should be able to type an opening delimiter and
have the closing one be inserted automatically. Here&rsquo;s an example on
parentheses:</p>

<p><a href="https://blog.jez.io/images/vim-as-an-ide/shot-21.png"><img src="https://blog.jez.io/images/vim-as-an-ide/shot-21.png" alt="Vim as an IDE" /></a></p>

<h2>13. <a href="https://github.com/jez/vim-as-an-ide/commit/b185e9f">Plugin vim-superman</a></h2>

<p>Once you&rsquo;ve added the appropriate function to your shell initialization file
(<code>~/.bashrc</code>, etc.), you should be able to run <code>vman &lt;command&gt;</code> to open man
pages. Here&rsquo;s an example on <code>vman 3 printf</code>:</p>

<p><a href="https://blog.jez.io/images/printf.3.png"><img src="https://blog.jez.io/images/printf.3.png" alt="Vim as an IDE" /></a></p>

<h2>14. <a href="https://github.com/jez/vim-as-an-ide/commit/44f5225">Plugin vim-tmux-navigator</a></h2>

<p>There&rsquo;s not much to show here, as this step is mostly just introducing
keybindings. If you use <code>tmux</code>, make sure to copy the appropriate snippet into
your <code>~/.tmux.conf</code> to be able to jump between tmux and Vim splits with no added
effort.</p>

<h2>15. <a href="https://github.com/jez/vim-as-an-ide/commit/5ba534e">Syntax plugins</a></h2>

<p>No screenshots again. What syntax highlighting plugins you end up installing is
largely up to you.</p>

<h2>16. <a href="https://github.com/jez/vim-as-an-ide/commit/9089a95">Add all the extra plugins that I use</a></h2>

<p>For these plugins, be sure to check the documentation. Most of them have
screenshots that show what they look like when installed and configured
correctly.</p>

<h2>Wrap Up</h2>

<p>That&rsquo;s it! I can only take you so far in making your Vim awesome. You have to
take yourself the rest of the way by investing a little bit of effort into
reading the documentation for the plugins you think could be useful to you so
that you can fully utilize them. Be sure to comment on the commits with
questions if you&rsquo;re stuck or are wondering why your setup doesn&rsquo;t look similar
to one of the above!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[New GitHub Username]]></title>
    <link href="https://blog.jez.io/2015/02/03/new-github-username/"/>
    <updated>2015-02-03T04:01:04-05:00</updated>
    <id>https://blog.jez.io/2015/02/03/new-github-username</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve changed my GitHub username from Z1MM32M4N to jez (hopefully it&rsquo;ll be a
little easier to type now!). Make sure you update any remote URLs for repos of
mine that you&rsquo;ve cloned.</p>

<!-- more -->


<h2>Updating your Git remotes</h2>

<p>If you&rsquo;ve cloned one of my repositories, you can update it&rsquo;s URL by running</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>git remote -v</span></code></pre></td></tr></table></div></figure>


<p>to check the current remote URL, which should look something like
<code>https://github.com/Z1MM32M4N/&lt;repo name&gt;</code>. Then, you can run</p>

<figure class='code'><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>git remote <span class="nb">set</span>-url origin https://github.com/jez/&lt;repo name&gt;</span></code></pre></td></tr></table></div></figure>


<p>to actually change the URL.</p>

<p>Because of the way that GitHub handles username changes, you should be able to
continue using the current URLs at least for the time being, but any time you
pull you&rsquo;ll get a message from GitHub asking to update the remote URLs.</p>

<p>I tried to update all links referencing Z1MM32M4N to use the new username, but
I&rsquo;m sure I&rsquo;ve missed a few. If you find a &ldquo;broken&rdquo; link, shoot me a message
letting me know!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mastering git log for Collaboration]]></title>
    <link href="https://blog.jez.io/2015/01/16/mastering-git-log-for-collaboration/"/>
    <updated>2015-01-16T20:57:01-05:00</updated>
    <id>https://blog.jez.io/2015/01/16/mastering-git-log-for-collaboration</id>
    <content type="html"><![CDATA[<p>Git is an incredibly powerful platform for collaboration. The ability to create
light-weight branches as well as push to and pull from multiple remote repos is
the foundation of this power. Learning to harness the <code>git log</code> command will
help with visualizing all the information that supports these features, refining
and invigorating your current workflows.</p>

<!-- more -->


<h2>Learn Git Branching</h2>

<p>Obviously, to take full advantage of the collaborative features of Git, you
first have to learn how to use Git branching. There&rsquo;s an <a href="http://pcottle.github.io/learnGitBranching/">excellent interactive
tutorial</a> that instructs by converting the Git commands you
run into fancy web animations. If you have a basic understanding of Git but have
always wanted to learn about some of its more powerful features, this is the
best tutorial out there. For a taste of how it works, there&rsquo;s also a
<a href="http://pcottle.github.io/learnGitBranching/?demo">non-interactive demo</a> that features the animations which make this
tutorial so well-designed.</p>

<p>After I ran through this tutorial, I felt for the first time like I <em>really</em>
knew Git. Unfortunately, being a visual learner, I struggled when trying to
apply the same abstractions to actual git repositories. Shortly thereafter, I
discovered that the <code>git log</code> command actually has features to replicate many of
the same visualizations, but from right within the terminal!</p>

<h2><code>git log</code></h2>

<p>The following is a set of shell aliases that let you run <code>git log</code> with a
lengthy set of flags culminating in some pretty awesome Git logs. I&rsquo;m going to
leave a discussion of what the individual flags do to the man pages and just
skip straight to the good part. Feel free to copy and paste these into your
<code>~/.bashrc</code>, <code>~/.zshrc</code>, or similar file.</p>

<figure class='code'><figcaption><span>pretty git log aliases</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># pretty Git log</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">gl</span><span class="o">=</span><span class="s1">'git log --graph --pretty="%C(bold green)%h%Creset%C(auto)%d%Creset %s"'</span>
</span><span class='line'>
</span><span class='line'><span class="c"># pretty Git log, all references</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">gll</span><span class="o">=</span><span class="s1">'gl --all'</span>
</span><span class='line'>
</span><span class='line'><span class="c"># pretty Git log, show authors</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">gla</span><span class="o">=</span><span class="s1">'git log --graph --pretty="%C(bold green)%h%Creset %C(yellow)%an%Creset%C(auto)%d%Creset %s"'</span>
</span><span class='line'>
</span><span class='line'><span class="c"># pretty Git log, all references, show authors</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">glla</span><span class="o">=</span><span class="s1">'gla --all'</span></span></code></pre></td></tr></table></div></figure>


<p>As you can see, there are four aliases, and each does something a little
different. The first, <code>gl</code>, just shows the graph for the current branch. <code>gll</code>
shows the graph for <em>all</em> branches, including those which may have diverged from
the current branch. Then there&rsquo;s a variation on each of these, <code>gla</code> and
<code>glla</code>, which add author information to the logs produced by their
companion.</p>

<p>On top of it all, I&rsquo;ve customized the colors to work especially nicely if you&rsquo;re
using the <a href="ethanschoonover.com/solarized">Solarized</a> color scheme in your terminal. If you don&rsquo;t do
anything but copy the above aliases, the only thing that will look different
from the screenshots below is the text between the parentheses, which will
instead all be the same color. To color these the same as below, add this text to
the end of your <code>~/.gitconfig</code> file:</p>

<figure class='code'><figcaption><span>Global Git configuration settings</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>[color "decorate"]
</span><span class='line'>  head = bold white
</span><span class='line'>  branch = bold magenta
</span><span class='line'>  remotebranch = blue
</span><span class='line'>  tag = bold red</span></code></pre></td></tr></table></div></figure>


<p>Of course, feel free to tinker with these colors to your liking.</p>

<h2>Screenshots</h2>

<p>Here are an abundant number of screenshots showing what the commands look like
for the <a href="https://github.com/ScottyLabs/tartanhacks">TartanHacks website</a> and the <a href="https://github.com/autolab/Autolab">Autolab Project</a>.</p>

<h3>gl</h3>

<p><a class="image-link" href="https://blog.jez.io/images/gl-tartanhacks.png"><img src="https://blog.jez.io/images/gl-tartanhacks.png"></a></p>

<p>Even when just using <code>gl</code>, you&rsquo;ll be able to see all branches that lie further
down on the tree. For example, from the <code>add_gitignore</code> branch we can see the
<code>origin/gh-pages</code> branch because it&rsquo;s along the same path in history.</p>

<h3>gll</h3>

<p><a class="image-link" href="https://blog.jez.io/images/gll-tartanhacks.png"><img src="https://blog.jez.io/images/gll-tartanhacks.png"></a></p>

<p>Here we see that multiple branches have diverged from <code>origin/gh-pages</code>; both
<code>add_gitignore</code> and <code>fix_seo_and_readability</code> share <code>origin/gh-pages</code> as a
common ancestor, but neither have anything in common with the other, which is
why <code>fix_seo_and_readability</code> only showed up once we used <code>gll</code>.</p>

<h3>gla</h3>

<p><a class="image-link" href="https://blog.jez.io/images/gla-tartanhacks.png"><img src="https://blog.jez.io/images/gla-tartanhacks.png"></a></p>

<p>Same as <code>gl</code> above, but with author information!</p>

<h3>glla</h3>

<p><a class="image-link" href="https://blog.jez.io/images/glla-tartanhacks.png"><img src="https://blog.jez.io/images/glla-tartanhacks.png"></a></p>

<p>Same as <code>gll</code> above, but again with author information!</p>

<hr />

<p>Here are the same four examples, but for the <a href="https://github.com/autolab/Autolab">Autolab</a> repo. It&rsquo;s a
little more involved because more people are working on it simultaneously. For
projects like this, which have several open pull requests and feature branches,
these aliases really shine.</p>

<h3>gl</h3>

<p><a class="image-link" href="https://blog.jez.io/images/gl-autolab.png"><img src="https://blog.jez.io/images/gl-autolab.png"></a></p>

<h3>gll</h3>

<p><a class="image-link" href="https://blog.jez.io/images/gll-autolab.png"><img src="https://blog.jez.io/images/gll-autolab.png"></a></p>

<h3>gla</h3>

<p><a class="image-link" href="https://blog.jez.io/images/gla-autolab.png"><img src="https://blog.jez.io/images/gla-autolab.png"></a></p>

<h3>glla</h3>

<p><a class="image-link" href="https://blog.jez.io/images/glla-autolab.png"><img src="https://blog.jez.io/images/glla-autolab.png"></a></p>

<h2>Dotfiles</h2>

<p>If you&rsquo;re hungry for more handy Git aliases or just some general ways to beef up
your terminal experience, you can find these four aliases and more in the
<a href="https://github.com/jez/dotfiles/blob/master/zshrc">zshrc</a> in my <a href="https://github.com/jez/dotfiles">dotfiles repository</a> on GitHub.</p>

<h2>Update</h2>

<p>After testing out these aliases on various environments, I discovered that one
of the features I was using in the pretty format (the one that colors remotes
and branches, <code>%C(auto)</code>) is not available in older versions of Git. These are
the revised versions of the above aliases that I use on older machines:</p>

<figure class='code'><figcaption><span>Compatible Git log aliases</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># pretty Git log</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">gl</span><span class="o">=</span><span class="s1">'git log --graph --pretty="%C(bold green)%h%Creset%C(blue)%d%Creset %s"'</span>
</span><span class='line'>
</span><span class='line'><span class="c"># pretty Git log, all references</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">gll</span><span class="o">=</span><span class="s1">'gl --all'</span>
</span><span class='line'>
</span><span class='line'><span class="c"># pretty Git log, show authors</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">gla</span><span class="o">=</span><span class="s1">'git log --graph --pretty="%C(bold green)%h%Creset %C(yellow)%an%Creset%C(blue)%d%Creset %s"'</span>
</span><span class='line'>
</span><span class='line'><span class="c"># pretty Git log, all references, show authors</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">glla</span><span class="o">=</span><span class="s1">'gla --all'</span></span></code></pre></td></tr></table></div></figure>


<p>The only real difference is that all the remotes, branches, and tags are blue,
instead of being configurable in you <code>~/.gitconfig</code> file.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The LaTeX homework Document Class]]></title>
    <link href="https://blog.jez.io/2015/01/10/the-latex-homework-document-class/"/>
    <updated>2015-01-10T18:00:00-05:00</updated>
    <id>https://blog.jez.io/2015/01/10/the-latex-homework-document-class</id>
    <content type="html"><![CDATA[<p>There are LaTeX document classes for typesetting books, articles, exams,
presentations, and more. Now, there&rsquo;s one for homework assignments, too.</p>

<!-- more -->


<h2><a href="https://github.com/jez/latex-homework-class">Source</a></h2>

<p>Check out and download the source <a href="https://github.com/jez/latex-homework-class">on GitHub</a>.</p>

<h2>What</h2>

<p>This is a LaTeX document class. That means you use it with
<code>\documentclass{homework}</code> at the top of the document. It provides a document
layout and some helper commands that make working with questions easy.</p>

<h2>Installation</h2>

<p>Certainly the easiest way to start using this template is to copy the .cls file
to your computer in the same directory as your LaTeX project directory.</p>

<p>A better way to install this template is to fork <a href="https://github.com/jez/latex-homework-class">the above
repository</a> and then clone that fork to a particular folder on your
computer:</p>

<figure class='code'><figcaption><span>Install</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone https://github.com/&lt;your-username&gt;/latex-hw-template</span></code></pre></td></tr></table></div></figure>


<p>Then, whenever you need to use the template, you can copy the template wherever.
Also, if there are ever any updates, you can simply run</p>

<figure class='code'><figcaption><span>Update</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'>git pull</span></code></pre></td></tr></table></div></figure>


<p>to update the template.</p>

<h3>Preferred Installation</h3>

<p>The <em>best</em> way to install this file is to <a href="https://github.com/jez/latex-solarized#installation">follow the instructions
here</a>, keeping in mind that you&rsquo;re trying to install a <code>.cls</code> file
instead of three <code>.sty</code> files.</p>

<h2>Usage</h2>

<p>See the <a href="https://github.com/jez/latex-homework-class/blob/master/homework.tex">homework.tex</a> file for an exhaustive list of usage
examples. There are also comments explaining features for which there are no
examples given.</p>

<p>The result is the following:</p>

<p><a class="image-link" href="https://blog.jez.io/images/homework-class.png"><img src="https://blog.jez.io/images/homework-class.png"></a></p>

<p>The class file also has a bunch of helper <code>\usepackage</code>s that you might want to
take a look at in <a href="https://github.com/jez/latex-homework-class/blob/master/homework.cls">homework.cls</a>.</p>

<p>For your convenience, the file <a href="https://github.com/jez/latex-homework-class/blob/master/template.tex">template.tex</a> is a nearly-empty
LaTeX file that contains the bare essentials to get started using the homework
class.</p>

<h3><code>\question</code></h3>

<p>To start a question, just type <code>\question</code>. It will add the text &ldquo;Question #&rdquo;
with a line underneath to the document. If you&rsquo;d like to change &ldquo;Question&rdquo; to
something else, use</p>

<figure class='code'><figcaption><span>Change the Question Type</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="k">\renewcommand</span><span class="p">{</span><span class="k">\questiontype</span><span class="p">}{</span>Whatever You Want<span class="p">}</span>
</span><span class='line'><span class="c">% Now questions will be titled "Whatever You Want #"</span></span></code></pre></td></tr></table></div></figure>


<p>Similarly, if you ever need to skip numbers, you can do</p>

<figure class='code'><figcaption><span>Non-contiguous Question Numbers</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="k">\setcounter</span><span class="p">{</span><span class="k">\questionCounter</span><span class="p">}{</span>&lt;target number - 1&gt;<span class="p">}</span></span></code></pre></td></tr></table></div></figure>


<p>So, to skip to the 10th question, <code>&lt;target number - 1&gt;</code> = 9.</p>

<p>See <a href="https://github.com/jez/latex-homework-class/blob/master/homework.tex">homework.tex</a> for more.</p>

<h3><code>\question*</code></h3>

<p>Some classes like to give their homework questions fancy names. If this is the
case, you can use <code>\question*{The Question's Name}</code> to make a named question.</p>

<p>See <a href="https://github.com/jez/latex-homework-class/blob/master/homework.tex">homework.tex</a> for more.</p>

<h3>Question Parts</h3>

<p>Another common thing on homework assignments is to have multi-part questions. To
deal with these, use the form</p>

<figure class='code'><figcaption><span>Lettered Question Parts</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="nt">\begin{alphaparts}</span>
</span><span class='line'>  <span class="k">\questionpart</span>
</span><span class='line'>    This will be part (a).
</span><span class='line'>  <span class="k">\questionpart</span>
</span><span class='line'>    This will be part (b).
</span><span class='line'><span class="nt">\end{alphaparts}</span></span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><figcaption><span>Numbered Question Parts</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="nt">\begin{arabicparts}</span>
</span><span class='line'>  <span class="k">\questionpart</span>
</span><span class='line'>    This will be part x.1.
</span><span class='line'>  <span class="k">\questionpart</span>
</span><span class='line'>    This will be part x.2.
</span><span class='line'><span class="nt">\end{arabicparts}</span></span></code></pre></td></tr></table></div></figure>


<p>See <a href="https://github.com/jez/latex-homework-class/blob/master/homework.tex">homework.tex</a> for more.</p>

<h3>Induction Proofs</h3>

<p>In math classes, induction proofs come up a lot, and they almost always have the
same form: base case, induction hypothesis, and induction step.</p>

<figure class='code'><figcaption><span>Induction Environment</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="nt">\begin{induction}</span>
</span><span class='line'>  <span class="k">\basecase</span>
</span><span class='line'>    This is my fancy base case.
</span><span class='line'>  <span class="k">\indhyp</span>
</span><span class='line'>    Assume some claim.
</span><span class='line'>  <span class="k">\indstep</span>
</span><span class='line'>    Finish off the proof
</span><span class='line'><span class="nt">\end{induction}</span></span></code></pre></td></tr></table></div></figure>


<h2>Markdown</h2>

<p>One of my favorite features of this document class is that it redefines the
<code>\section</code> macros. This means you can use tools like Markdown, which have a
concise syntax, together with a tool like <a href="http://johnmacfarlane.net/pandoc/"><code>pandoc</code></a> to convert Markdown
into LaTeX. As an example, consider that we have the Markdown:</p>

<figure class='code'><figcaption><span>my-homework.md</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>#
</span><span class='line'>
</span><span class='line'>This is my first answer.
</span><span class='line'>
</span><span class='line'>#
</span><span class='line'>
</span><span class='line'>This is my next answer.
</span><span class='line'>
</span><span class='line'>$$a^2 + b^2 = c^2$$</span></code></pre></td></tr></table></div></figure>


<p>Running <code>pandoc -f markdown -t latex my-homework.md</code> will output</p>

<figure class='code'><figcaption><span>Convert markdown to LaTeX</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="c">% $ pandoc -f markdown -t latex my-homework.md</span>
</span><span class='line'><span class="k">\section</span><span class="p">{}</span><span class="k">\label</span><span class="p">{</span>section<span class="p">}</span>
</span><span class='line'>
</span><span class='line'>This is my first answer.
</span><span class='line'>
</span><span class='line'><span class="k">\section</span><span class="p">{}</span><span class="k">\label</span><span class="p">{</span>section-1<span class="p">}</span>
</span><span class='line'>
</span><span class='line'>This is my next answer.
</span><span class='line'>
</span><span class='line'><span class="p">\[</span><span class="nb">a</span><span class="p">^</span><span class="m">2</span><span class="nb"> </span><span class="o">+</span><span class="nb"> b</span><span class="p">^</span><span class="m">2</span><span class="nb"> </span><span class="o">=</span><span class="nb"> c</span><span class="p">^</span><span class="m">2</span><span class="p">\]</span></span></code></pre></td></tr></table></div></figure>


<p>And since <code>\section</code> is the same thing as \question, we&rsquo;re golden, and this
compiles as we&rsquo;d want it to. Throw it into the blank
<a href="https://github.com/jez/latex-homework-class/blob/master/template.tex">template.tex</a> file included in the repo, and you&rsquo;ve got yourself
a typeset homework.</p>

<h2>More</h2>

<p>I&rsquo;ve make a lot of other LaTeX-related posts. Be sure to <a href="https://blog.jez.io/categories#latex">check them out</a>
as well! My hope is that you find something that makes developing LaTeX just
that much easier.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Offline LaTeX Development - Part 2]]></title>
    <link href="https://blog.jez.io/2015/01/10/offline-latex-development-part-2/"/>
    <updated>2015-01-10T17:00:00-05:00</updated>
    <id>https://blog.jez.io/2015/01/10/offline-latex-development-part-2</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve already written about how I develop LaTeX offline in Vim using GNU Make.
Recently, though, I found a tool that implements another feature that GUI
editors had to themselves: splitting panes.</p>

<!-- more -->


<h2><a href="https://blog.jez.io/2014/10/06/offline-latex-development/">Offline LaTeX Development</a></h2>

<p>If you missed it, check out my previous post here before reading on. There&rsquo;s a
lot of handy stuff there!</p>

<h2>Split Panes</h2>

<p>Out of the box, tools like ShareLaTeX and TeXShop feature split pane editing:
you can have your LaTeX on one half of the screen and the PDF on the other.
Previously, I justified not having this feature with the reasoning that the
<code>:WV</code> binding (something I explained <a href="https://blog.jez.io/2014/10/06/offline-latex-development/">here</a>) immediately opened up the
PDF and the windows switched.</p>

<p>However, I read about a tool called <a href="http://ianyh.com/amethyst/">Amethyst</a> on Hacker News the
other day and immediately realized it&rsquo;s potential for improving my LaTeX setup.
Amethyst is a tool that strives to be a tiling window manager like xmonad for OS
X. At times it falls short of this goal, but for the most part it works really
well. Just open up two apps, like MacVim and Preview, and it&rsquo;ll show them
side-by-side with no added effort. There are also plenty of keybindings to
manipulate the window arrangements.</p>

<p>Here&rsquo;s a screenshot of what the new setup looks like:</p>

<p><a class="image-link" href="https://blog.jez.io/images/latex-amethyst.png"><img src="https://blog.jez.io/images/latex-amethyst.png"></a></p>

<p>After looking into it a little more, it looks like there are other OS X tools
for spitting the screen into two panes, like <a href="http://www.bettertouchtool.net/">BetterTouchTool</a>, though I
haven&rsquo;t actually tried any of them out.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Google Chrome: A Memory Hog]]></title>
    <link href="https://blog.jez.io/2014/12/29/google-chrome-a-memory-hog/"/>
    <updated>2014-12-29T18:00:00-05:00</updated>
    <id>https://blog.jez.io/2014/12/29/google-chrome-a-memory-hog</id>
    <content type="html"><![CDATA[<p>Whenever someone complains about a slow computer, the first thing I check is
how many Chrome tabs they have open. Chrome hogs memory like no other. For
users, this means Chrome is snappy and responsive, but oftentimes it comes at
the expense of crowding out other programs. To get an idea of how much memory
Chrome is really using, I wrote a quick bash oneliner.</p>

<!-- more -->


<h2>Why does Chrome Hog Memory?</h2>

<p><a href="http://mobile.extremetech.com/latest/221392-iframe-irony-adblock-plus-is-probably-the-reason-firefox-and-chrome-are-such-memory-hogs">An article posted to Hacker News</a> recently brought some light to
the question of why Chrome and Firefox suck up so much memory: Adblock Plus. The
general idea is that the excessive use of iframes in most websites today ramps
up the amount of processing that Adblock Plus has to do, driving memory usage
through the roof. For more specifics, check out the rest of of the article.</p>

<h2>The Oneliner</h2>

<p>For the impatient, here&rsquo;s the code. It uses standard Unix tools:</p>

<figure class='code'><figcaption><span>Chrome Memory Usage</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>ps -ev | grep -i chrome | awk <span class="s1">'{print $12}'</span> | awk <span class="s1">'{for(i=1;i&lt;=NF;i++)s+=$i}END{print s}'</span></span></code></pre></td></tr></table></div></figure>


<p>Pretty isn&rsquo;t it? If you want to save this as an alias for handy use, add this
line to your ~/.bashrc (or appropriate configuration file):</p>

<figure class='code'><figcaption><span>Add as an alias</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias </span><span class="nv">chromemem</span><span class="o">=</span><span class="s2">"ps -ev | grep -i chrome | awk '{print </span><span class="se">\$</span><span class="s2">12}' | awk '{for(i=1;i&lt;=NF;i++)s+=</span><span class="se">\$</span><span class="s2">i}END{print s}'"</span></span></code></pre></td></tr></table></div></figure>


<p>It outputs a percentage. Here&rsquo;s the alias in action:</p>

<figure class='code'><figcaption><span>Usage</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>chromemem
</span><span class='line'>60</span></code></pre></td></tr></table></div></figure>


<h2>Explanation</h2>

<p>There&rsquo;s a lot of good stuff going on here, so let&rsquo;s take it step-by-step.</p>

<p>First, we&rsquo;ll need a program that tells us memory usage. I&rsquo;m sure there are many,
but I&rsquo;m familiar with <code>ps</code>. After checking out the man page for a few options, I
came up with <code>ps -ev</code>, to show all information about all processes. Maybe
wasteful, but it works.</p>

<figure class='code'><figcaption><span>ps -ev</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>ps -ev
</span><span class='line'>  PID STAT      TIME  SL  RE PAGEIN      VSZ    RSS   LIM     TSIZ  %CPU %MEM COMMAND
</span><span class='line'> 3473 S      0:54.92   0   0      0  3579092 301244     -        0   6.7  7.2 /Applications/Google C
</span><span class='line'>  365 S      3:03.17   0   0      0  3920732 206808     -        0   0.3  4.9 /Applications/Google C
</span><span class='line'>  983 S      1:29.23   0   0      0  3560272 193860     -        0   0.1  4.6 /Applications/Google C
</span><span class='line'>  395 S      0:13.11   0   0      0  2824936 141644     -        0   0.0  3.4 /Applications/Google C
</span><span class='line'>  422 S      0:27.22   0   0      0  3345796 130796     -        0   0.0  3.1 /Applications/Google C
</span><span class='line'>  ...</span></code></pre></td></tr></table></div></figure>


<p>Notice that there&rsquo;s a convenient column describing memory usage as a percentage
of total available memory, as well as what command is being run in that
process. Let&rsquo;s make sure that we&rsquo;re looking at only the processes running
some sort of Chrome service before totaling up the memory. We can find these
lines with <code>ps -ev | grep -i chrome</code> (the -i means case-insensitive). Due to the
way I clipped the previous sample output, nothing changes in the first five
lines, but rest assured: we&rsquo;re only looking at Chrome processes now.</p>

<p>Now it&rsquo;s time to get rid of all the other nonsense that we included with <code>ps
-ev</code>. Luckily, there&rsquo;s a handy tool called <code>awk</code> that makes parsing text by
column easy. If we want to print the 12th column (which just so happens to
contain the memory consumption!) we can do <code>awk '{print $12}'</code>:</p>

<figure class='code'><figcaption><span>ps -ev | grep -i chrome | awk &#8216;{print $12}&#8217;</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>ps -ev | grep -i chrome | awk <span class="s1">'{print $12}'</span>
</span><span class='line'>7.2
</span><span class='line'>5.1
</span><span class='line'>4.6
</span><span class='line'>3.4
</span><span class='line'>3.2
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<p>Finally, I found myself needing a way to add up a column of numbers. A quick
Google search led me to <a href="http://stackoverflow.com/questions/2572495/read-from-file-and-add-numbers">this StackOverflow question</a>, and I picked the
<code>awk</code> solution because I knew I could just pipe the input to awk (as opposed to
having to do weird hacks to get it to work with a bash for loop):</p>

<figure class='code'><figcaption><span>Final Solution</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>ps -emv | grep -i chrome | awk <span class="s1">'{print $12}'</span> | awk <span class="s1">'{for(i=1;i&lt;=NF;i++)s+=$i}END{print s}'</span>
</span><span class='line'>60.4</span></code></pre></td></tr></table></div></figure>


<p>Of course, you could change the last <code>awk</code> command to print out something
fancier like</p>

<figure class='code'><figcaption><span>Final Solution</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="gp">$ </span>ps -emv | grep -i chrome | awk <span class="s1">'{print $12}'</span> | awk <span class="s1">'{for(i=1;i&lt;=NF;i++)s+=$i}END{print "Chrome is using "s"% of total memory."}'</span>
</span><span class='line'>Chrome is using 60.4% of total memory.</span></code></pre></td></tr></table></div></figure>


<p>There you have it! Bash oneliners save the day yet again.</p>

<h2>Update</h2>

<p>After writing this article, I stopped using Ad Block Plus, and I noticed a
significant drop in Chrome&rsquo;s memory usage. Obviously, though, that came at the
cost of not blocking ads! Also, from time to time I would encounter a site that
seemed sluggish, presumably because of all the ads attempting to be loaded. My
simple solution to this was just to disable JavaScript on that page (I use an
extension called Quick JavaScript Switcher), but this wasn&rsquo;t an automated
solution.</p>

<p>Then I discovered <a href="https://github.com/gorhill/uBlock">Î¼Block</a>, an &ldquo;efficient blocker for Chromium and
Firefox.&rdquo; The fancy graphs on it&rsquo;s homepage convinced me to give it a shot, and
from what I can tell so far it&rsquo;s responsive and effective.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Intro to Columns in HTML]]></title>
    <link href="https://blog.jez.io/2014/12/26/intro-to-columns-in-html/"/>
    <updated>2014-12-26T13:00:00-05:00</updated>
    <id>https://blog.jez.io/2014/12/26/intro-to-columns-in-html</id>
    <content type="html"><![CDATA[<p>HTML and CSS can be frustrating when first starting out. Despite all you try, nothing is in the right place. I&rsquo;ve advised more than a few friends on how to figure out this mystery and I&rsquo;ve noticed a pattern: people don&rsquo;t realize they should be using a grid.</p>

<!-- more -->


<h2>Positioning Content</h2>

<p>When something doesn&rsquo;t align correctly on the page, a natural phrase to Google is &ldquo;make div align right&rdquo; or &ldquo;move div up.&rdquo; In other media where content is positioned absolutely, like when using text boxes in Microsoft Word, these might be the right queries. With HTML &amp; CSS, though, they&rsquo;re off point. Don&rsquo;t get me wrong, there&rsquo;s definitely a time for <code>position: absolute</code>, but if this comes up when you&rsquo;re trying to make grids you&rsquo;re likely on the wrong path.</p>

<p>In HTML, the page is drawn from top to bottom, left to right. This means that your page ends up being aligned how words in a book are. Once the first word has taken up a certain amount of space, the next word starts filling up the space after it. The trick then, is knowing <em>how much</em> space the first item takes up, and how to resize it appropriately so that the second item &ldquo;falls into place.&rdquo;</p>

<h2>Blocks and Inline Elements</h2>

<p>The easiest way to explain block and inline elements is to continue our book analogy. Block elements are like titles and headings&mdash;they take up the entire page width, spanning from the left border to the right border. That&rsquo;s why if you put two headings as close as possible to each other, they&rsquo;ll still each have their own lines. There&rsquo;s no &ldquo;room&rdquo; for it to be any other way! Meanwhile, inline elements are like individual words. Where one word stops, the next one begins. A word takes up no more space than is required to size it compactly.</p>

<p>Disregarding some special cases, <em>every HTML element</em> falls into one of these two categories. Below are some examples of block elements and inline elements:</p>

<table>
<thead>
<tr>
<th style="text-align:center;"> Block </th>
<th style="text-align:center;"> Inline   </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;"> <code>div</code> </td>
<td style="text-align:center;"> <code>span</code>   </td>
</tr>
<tr>
<td style="text-align:center;"> <code>h1</code>  </td>
<td style="text-align:center;"> <code>a</code>      </td>
</tr>
<tr>
<td style="text-align:center;"> <code>p</code>   </td>
<td style="text-align:center;"> <code>strong</code> </td>
</tr>
<tr>
<td style="text-align:center;"> <code>ul</code>  </td>
<td style="text-align:center;"> <code>em</code>  </td>
</tr>
<tr>
<td style="text-align:center;"> <code>li</code>  </td>
<td style="text-align:center;"> <code>br</code>     </td>
</tr>
<tr>
<td style="text-align:center;"> <code>pre</code> </td>
<td style="text-align:center;"> <code>button</code> </td>
</tr>
</tbody>
</table>


<p>We know that we need to use a div to house our columns. The problem is, divs are a block elements, so they&rsquo;ll span the whole width of the page. Luckily, there&rsquo;s a relatively simple (though non-intuitive) fix to get our divs to line up.</p>

<h2>Floating Content</h2>

<p>Let&rsquo;s take a look at what we&rsquo;ve got so far. We want to have two columns, so our HTML is going to look like this:</p>

<figure class='code'><figcaption><span>HTML for two columns</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"left column"</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="c">&lt;!-- Your left content here --&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"right column"</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="c">&lt;!-- Your right content here --&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span></span></code></pre></td></tr></table></div></figure>


<p>Straightforward enough. Knowing what we know about block elements, what if we just set the width of the columns to 50%?</p>

<figure class='code'><figcaption><span>Half-width columns</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.column</span> <span class="p">{</span>
</span><span class='line'>  <span class="c">/* arbitrary value for this example */</span>
</span><span class='line'>  <span class="nl">height</span><span class="p">:</span> <span class="m">300px</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nl">width</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* so we can tell them appart */</span>
</span><span class='line'><span class="nc">.left</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'><span class="nc">.right</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span> <span class="p">}</span></span></code></pre></td></tr></table></div></figure>


<p><a href="http://codepen.io/Z1MM32M4N/pen/qENvdx?editors=110">Let&rsquo;s try it out and see what happens</a></p>

<p>Uh oh, it looks like our columns aren&rsquo;t next to each other! In fact, it looks suspciously like something we mentioned earlier: if two page headings are as close together as possible, they&rsquo;ll still be placed on their own lines. We can verify that this is the case by using the <a href="https://developer.chrome.com/devtools">Chrome dev tools</a>. Inspecting the red div, we see the culprit:</p>

<p><a class="image-link" href="https://blog.jez.io/images/left-column-margin.png"><img src="https://blog.jez.io/images/left-column-margin.png"></a></p>

<p>For those familiar with the Chrome dev tools, that yellow-orange box is Chrome&rsquo;s attempt to show us the invisible <em>margin</em> present on our div. Since divs are block elements, by default there&rsquo;s enough margin on the div to make it fill up the whole width of the page.</p>

<p>The solution, if you saw from the CodePen, is to add the property <code>float: left</code> to the columns. This essentially instructs the browser not to add that extra margin: instead of being positioned absolutely between the two sides of the screen, it should float to one side and forget about the other. This leaves room for the second column to file into place next to it.</p>

<p>Go <a href="http://codepen.io/Z1MM32M4N/pen/qENvdx?editors=110">back to the pen</a> and uncomment the relevant line. <a href="http://codepen.io/Z1MM32M4N/pen/XJKGdg?editors=110">Observe</a> that we&rsquo;ve accomplished exactly what we wanted to.</p>

<h2>Going Forward</h2>

<p>Cool, this solves the problem of having two columns! What&rsquo;s next?</p>

<ul>
<li>How would we make three columns? Four columns? Twelve columns?</li>
<li>Once we have multiple columns, how can we skip columns? (<strong>Hint</strong>: just because we have a column doesn&rsquo;t mean we have to put something in it)</li>
<li>We can add multiple rows by duplicating the outer &ldquo;row&rdquo; div.

<ul>
<li>What if we want two 33%-width columns in the first row, but one 33%-width column in the second row? (This is actually a good one to work through. You might want to look into the <code>clear: both</code> CSS property)</li>
</ul>
</li>
<li>The <code>border-left</code> and <code>border-right</code> CSS properties allow us to add a border to a div. We can even use <em>fancy CSS queries</em> (see below) to only add a border in between columns. But if we add a border, the columns overflow onto their own rows! Can you fix this?

<ul>
<li><strong>Warning</strong>: this one is the hardest. You will want to look into <code>box-sizing: border-box</code> and the &ldquo;CSS box model&rdquo;</li>
</ul>
</li>
</ul>


<p>Services like <a href="http://codepen.io/">CodePen</a> and <a href="http://jsfiddle.net/">JSFiddle</a> are excellent tools for trying out little experiments like this. I encourage you to actually tinker around with the <a href="http://codepen.io/Z1MM32M4N/pen/XJKGdg?editors=110">starter code from before</a> to see how you can answer all of these small questions.</p>

<p>As it turns out, HTML/CSS grids are a very heavily studied point of design. So much so, that people build entire <em>CSS frameworks</em> around providing the building blocks to make grids easily. Here&rsquo;s a list:</p>

<ul>
<li><a href="http://getbootstrap.com/">Bootstrap</a></li>
<li><a href="http://foundation.zurb.com/">Foundation</a></li>
<li><a href="http://semantic-ui.com/">Semantic UI</a></li>
<li><a href="http://unsemantic.com/">Unsemantic</a></li>
</ul>


<p>Bootstrap is by far the most common (once you see it, you&rsquo;ll start to realize how many sites look incredibly similar). However, many people misuse Bootstrap their first time around. <a href="http://www.helloerik.com/the-subtle-magic-behind-why-the-bootstrap-3-grid-works">This article</a> demystifies and documents how and why the Bootstrap 3 grid works.</p>

<p>Even once you&rsquo;re an HTML and CSS master, it can still be frustrating. (Actually, I&rsquo;d believe it if the experts were the most frustrated!). I love answering question and trying to explain things, so if you need some help working through the exercises above or you&rsquo;re working on a personal project, I&rsquo;d love to see if I can help out! Protip: put your code on GitHub or somewhere else that&rsquo;s easily accessible so that it&rsquo;s easy to share changes quickly.</p>

<h2>Appendix</h2>

<p>I mentioned an example about &ldquo;fancy CSS queries&rdquo; above. This is certainly advanced territory, but it&rsquo;s something that I get asked a lot by beginners so here goes.</p>

<p>Basically, the problem is that you only want vertical line separators in between columns, not on the edges. In ASCII art:</p>

<figure class='code'><figcaption><span>Beautiful ASCII Art Diagram</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>        |        |
</span><span class='line'>  col1  |  col2  | col 3
</span><span class='line'>        |        |
</span><span class='line'>
</span><span class='line'>        ^        ^
</span><span class='line'>        | these. |</span></code></pre></td></tr></table></div></figure>


<p>(Thank you, thank you, I know my drawings are beautiful XD).</p>

<p>You already know that you can use <code>.class</code> and <code>#id</code> to select items based on their classes and IDs. But there are <a href="http://code.tutsplus.com/tutorials/the-30-css-selectors-you-must-memorize--net-16048">tons more query selectors</a> you can use! I&rsquo;ll use one to accomplish what we want with the vertical dividers:</p>

<figure class='code'><figcaption><span>Super Fancy CSS Selectors</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.column</span> <span class="p">{</span>
</span><span class='line'>  <span class="nl">height</span><span class="p">:</span> <span class="m">300px</span><span class="p">;</span>
</span><span class='line'>  <span class="c">/* Try uncommenting me! */</span>
</span><span class='line'>  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
</span><span class='line'>  <span class="nl">width</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
</span><span class='line'>  <span class="c">/* this kind of solves the "overflow" exersise I posted above YOLO */</span>
</span><span class='line'>  <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* marvel at the fanciness! */</span>
</span><span class='line'><span class="nc">.column</span><span class="nd">:not</span><span class="o">(</span><span class="nd">:last-child</span><span class="o">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nl">border-right</span><span class="p">:</span> <span class="m">5px</span> <span class="nb">solid</span> <span class="no">black</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.left</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'><span class="nc">.right</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span> <span class="p">}</span></span></code></pre></td></tr></table></div></figure>


<p>You can combine this with a nice padding (<code>padding: 50px</code> should do the trick) on the <code>.column</code>, and you&rsquo;ve got yourself a vertical divider!</p>

<h2>Update</h2>

<p>After writing this post, I discovered a couple articles talking about the new
<code>flexbox</code> feature. From what I can tell, it looks promising in terms of ease of
use and browser compatibility. That being said, many common CSS frameworks still
use <code>float: left</code>, so the content presented here is still good information to
know. If you&rsquo;re having trouble getting floats to work, though, maybe you should
look into <code>flexbox</code> instead!</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Virtualenvs]]></title>
    <link href="https://blog.jez.io/2014/12/22/ruby-virtualenvs/"/>
    <updated>2014-12-22T12:52:40-06:00</updated>
    <id>https://blog.jez.io/2014/12/22/ruby-virtualenvs</id>
    <content type="html"><![CDATA[<p>A while back I found a command that removes all Ruby gems installed on a system
when you&rsquo;re using rbenv. It worked great, so I decided to build on top of it.
After a bit of research, I found a much better solution to the root of my
problems: sandboxing Ruby gems.</p>

<!-- more -->


<h2>Ugh, Ruby&hellip;</h2>

<p>If you&rsquo;re anything like me, you can never do anything right on the first try
using Ruby. At one point, I found myself needing a script to just nuke
everything and start over&hellip; That&rsquo;s when I found Ian Vaughan&rsquo;s <a href="https://gist.github.com/IanVaughan/2902499">script</a> that
magically removes all gems. I was delighted to see that it worked perfectly on
the first try, and went about the rest of my business.</p>

<h2>Modifications</h2>

<p>There were two ways though in which this script&rsquo;s functionality differed from
what I wanted it to do: it always removed <strong>all</strong> gems, and it left behind a
<code>.ruby_version</code> file after it was used, clobbering any file that might have been
there before.</p>

<p>In my updated script, you can specify a list of ruby versions as arguments, and
it will only gems from those versions instead of all of them.  Also, it saves
and restores the value of the old <code>.ruby_version</code> file once it&rsquo;s done.</p>

<p>The new script is available <a href="https://gist.github.com/jez/cc2ba08062c6183a489c">as a fork of the original Gist</a> and also as
a part of of <a href="https://github.com/jez/bin/blob/master/uninstall_gems">my personal bin folder</a>.</p>

<h2>The Underlying Problem: Virtualenv&rsquo;s in Ruby</h2>

<p>After a bit of reflection, I realized I should be trying to solve the underlying
problem: different projects had different dependencies, and gems from one
project were bleeding into gems from another. If you&rsquo;re a Python developer, you
don&rsquo;t have this issue: <a href="http://virtualenvwrapper.readthedocs.org/en/latest/">virtualenvwrapper</a>, <code>pip</code>, and <code>requirements.txt</code>
files make this a non-issue.</p>

<p>After looking into if there existed a similar Ruby solution, I came up with
<a href="http://honza.ca/2011/06/install-ruby-gems-into-virtualenv">this blog post</a> outlining how you can do the exact same thing using
virtualenvs but with Ruby gems! Once again, it needed a little bit of
modification so that everything works again as you&rsquo;d expect when you
<code>deactivate</code>. Add these lines to your virtualenv&rsquo;s <code>postactivate</code> script:</p>

<figure class='code'><figcaption><span>$VIRTUAL_ENV/bin/postactivate</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">export</span> <span class="n">OLD_GEMHOME</span><span class="o">=</span><span class="s">"$GEM_HOME"</span>
</span><span class='line'><span class="n">export</span> <span class="n">GEM_HOME</span><span class="o">=</span><span class="s">"$VIRTUAL_ENV/gems"</span>
</span><span class='line'>
</span><span class='line'><span class="n">export</span> <span class="n">OLD_GEM_PATH</span><span class="o">=</span><span class="s">"$GEM_PATH"</span>
</span><span class='line'><span class="n">export</span> <span class="n">GEM_PATH</span><span class="o">=</span><span class="s">""</span>
</span><span class='line'>
</span><span class='line'><span class="n">export</span> <span class="n">OLD_PATH</span><span class="o">=</span><span class="s">"$PATH"</span>
</span><span class='line'><span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s">"$GEM_HOME/bin:$PATH"</span></span></code></pre></td></tr></table></div></figure>


<p>And then add this complementary section to your <code>predeactivate</code> script:</p>

<figure class='code'><figcaption><span>$VIRTUAL_ENV/bin/predeactivate</span></figcaption><div class="highlight"><table><tr></pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">export</span> <span class="n">GEM_HOME</span><span class="o">=</span><span class="s">"$OLD_GEM_HOME"</span>
</span><span class='line'><span class="n">unset</span> <span class="n">OLD_GEM_HOME</span>
</span><span class='line'>
</span><span class='line'><span class="n">export</span> <span class="n">GEM_PATH</span><span class="o">=</span><span class="s">"$OLD_GEM_PATH"</span>
</span><span class='line'><span class="n">unset</span> <span class="n">OLD_GEM_PATH</span>
</span><span class='line'>
</span><span class='line'><span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s">"$OLD_PATH"</span>
</span><span class='line'><span class="n">unset</span> <span class="n">OLD_PATH</span></span></code></pre></td></tr></table></div></figure>


<p>Now, whenever you install gems, they&rsquo;ll install to the folder
<code>$VIRTUAL_ENV/gems/</code> instead of the system&rsquo;s location, so no gems bleed into
another project!</p>

<h2>One Step Further</h2>

<p>Bringing up this web page, copying those snippets, and pasting them in the two
necessary files every time is a bit tedious. To automate this process, we can
tap into virtualenvwrapper&rsquo;s configurability using hooks. Instead of dropping
those snippets into <code>$VIRTUAL_ENV/bin/{post,prede}activate,</code>, place them in
<code>$VIRTUALENVWRAPPER_HOOK_DIR/{post,prede}activate</code>.</p>

<p>Now every time you <code>workon</code> a virtualenv, the appropriate configuration will
be set up. Note that this means every normal Python project you use will have
this Ruby configuration added (not just the Ruby projects), but that shouldn&rsquo;t
matter because they interoperate nicely. If it&rsquo;s really an issue, you can stick
with the per-virtualenv solution above.</p>

<p>Note: a side effect of this nice sandboxing is that you can normally run
commands without prefixing them with <code>bundle exec ...</code>, which is actually really
handy.</p>

<hr />

<h3>Jake on the Web</h3>

<p><a class="image-link" href="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400"><img class="left" src="https://avatars5.githubusercontent.com/u/5544532?v=4&u=4640ad0fd7da51dc2a84c5ae9d11a96677b4d185&s=400" width="135" height="135"></a>
If you cared enough to read that far, you should consider following me on
<a href="https://www.github.com/jez/">GitHub</a> or paying a visit to <a href="https://jez.io/">my homepage</a>. If this post was about one of
my open source projects, make sure to star it on GitHub! I love hearing what
people think, so feel free to open an issue or send me an email.</p>
]]></content>
  </entry>
  
</feed>
